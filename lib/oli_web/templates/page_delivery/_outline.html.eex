<%= for node <- @nodes do %>
  <% props = Map.merge(assigns, %{
    node: node,
    nodes: node.children,
  }) %>
  <%= cond do %>
    <% container?(node.revision) -> %>
      <%= render "_link_container.html", props %>
    <% node.revision.graded -> %>
      <%= render "_link_assessment.html", props %>
    <% true -> %>
      <%= render "_link_page.html", props %>
  <% end %>
<% end %>
