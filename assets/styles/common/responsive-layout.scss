.advance-authoring-responsive-layout {
  display: block;
  width: 100%;
  min-height: 500px;
  height: auto;
  padding: 20px;
  box-sizing: border-box;

  &::after {
    content: '';
    display: table;
    clear: both;
  }

  // Responsive Items
  .responsive-item {
    position: relative;
    border: none;
    display: block;

    &.full-width {
      width: 100%;
      margin-bottom: 20px;
      clear: both;
    }

    &.half-width {
      width: calc(50% - 10px);
      margin-bottom: 20px;
    }
  }

  // Alignment Styles
  .responsive-align-left,
  .responsive-align-right {
    margin-bottom: 20px;
    width: calc(50% - 10px);
  }

  .responsive-align-left {
    float: left;
    margin-right: 20px;
    clear: left; // Only clear left floats, allow natural flow

    & + .responsive-align-left {
      margin-top: 0;
    }
  }

  .responsive-align-right {
    float: right;
    clear: right; // Ensure each right part starts below the previous one

    & + .responsive-align-right {
      margin-top: 0;
      clear: right;
    }

    // Allow left parts to flow naturally after right parts
    & + .responsive-align-left {
      clear: none;
    }
  }

  // Draggable Overrides
  .react-draggable {
    position: relative !important;
    top: auto !important;
    left: auto !important;
    width: 100% !important;

    .react-resizable-handle {
      display: none;
    }
  }

  // Override absolute positioning for all components in responsive layout
  // This ensures components contribute to their parent's height
  .responsive-item > * {
    position: relative !important;
    top: auto !important;
    left: auto !important;
    right: auto !important;
    bottom: auto !important;
    width: 100% !important;
  }

  /*------------------------------
      Answerable Components
  ------------------------------*/
  janus-mcq,
  janus-input-text,
  janus-input-number,
  janus-multi-line-text,
  janus-dropdown,
  janus-slider,
  janus-text-slider,
  janus-number-slider,
  janus-text-flow {
    height: fit-content !important;
  }
  /*------------------------------
      Non-Answerable Components
  ------------------------------*/
  janus-image,
  janus-video,
  janus-audio {
    height: auto !important;
  }

  /*------------------------------
      Image Flag Combinations in Responsive Layout
  ------------------------------*/

  // Only scaleContent is true: width 100%, height from model
  img.responsive-image-scale-only {
    width: 100% !important;
    height: var(--image-height) !important;
  }

  // Only lockAspectRatio is true: maintain aspect ratio - use original width, height auto
  img.responsive-image-lock-ratio-only {
    width: var(--image-width) !important;
    height: auto !important;
  }

  // Both scaleContent and lockAspectRatio are true: width 100%, height auto
  img.responsive-image-scale-lock-both {
    width: 100% !important;
    height: auto !important;
  }

  janus-number-slider,
  janus-text-slider {
    padding-bottom: 20px;
  }
}

.responsive-layout-section .stage-content-wrapper,
.responsive-layout-section .content {
  height: auto;
  min-height: 500px;
}
