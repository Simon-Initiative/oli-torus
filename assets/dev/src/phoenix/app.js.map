{"version":3,"file":"app.js","sourceRoot":"","sources":["../../../src/phoenix/app.ts"],"names":[],"mappings":"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","sourcesContent":["// webpack automatically bundles all modules in your\n// entry points. Those entry points can be configured\n// in 'webpack.config.js'.\n//\n// Import deps with the dep name or local files with a relative path, for example:\n//\n//     import {Socket} from 'phoenix'\n//     import socket from './socket'\n//\nimport { selectCookieConsent } from 'components/cookies/CookieConsent';\nimport { selectCookiePreferences } from 'components/cookies/CookiePreferences';\nimport { retrieveCookies } from 'components/cookies/utils';\nimport { CreateAccountPopup } from 'components/messages/CreateAccountPopup';\nimport { Hooks } from 'hooks';\nimport NProgress from 'nprogress';\nimport { Socket } from 'phoenix';\nimport 'phoenix_html';\nimport { LiveSocket } from 'phoenix_live_view';\nimport * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport { initActivityBridge, initPreviewActivityBridge } from './activity_bridge';\nimport { showModal } from './modal';\nimport { enableSubmitWhenTitleMatches } from './package_delete';\nimport { onReady } from './ready';\n\nconst csrfToken = (document as any)\n  .querySelector('meta[name=\"csrf-token\"]')\n  .getAttribute('content');\nconst liveSocket = new LiveSocket('/live', Socket, {\n  hooks: Hooks,\n  params: { _csrf_token: csrfToken },\n  metadata: {\n    keydown: (e: any, _el: any) => {\n      return {\n        key: e.key,\n        shiftKey: e.shiftKey,\n      };\n    },\n  },\n});\n\n// Show progress bar on live navigation and form submits\nwindow.addEventListener('phx:page-loading-start', (_info) => NProgress.start());\nwindow.addEventListener('phx:page-loading-stop', (_info) => NProgress.done());\n\n(window as any).initActivityBridge = initActivityBridge;\n(window as any).initPreviewActivityBridge = initPreviewActivityBridge;\n\n// Expose React/Redux APIs to server-side rendered templates\nfunction mount(Component: any, element: HTMLElement, context: any = {}) {\n  ReactDOM.render(React.createElement(Component, context), element);\n}\n\n// Global functions and objects:\n(window as any).OLI = {\n  initActivityBridge,\n  initPreviewActivityBridge,\n  showModal,\n  enableSubmitWhenTitleMatches,\n  selectCookieConsent,\n  selectCookiePreferences,\n  retrieveCookies,\n  onReady,\n  CreateAccountPopup: (node: any, props: any) => mount(CreateAccountPopup, node, props),\n};\n\n// connect if there are any LiveViews on the page\nliveSocket.connect();\n\n// expose liveSocket on window for web console debug logs and latency simulation:\n// >> liveSocket.enableDebug()\n// >> liveSocket.enableLatencySim(1000)\n(window as any).liveSocket = liveSocket;\n\n$(() => {\n  ($('[data-toggle=\"popover\"]') as any).popover();\n  ($('[data-toggle=\"tooltip\"]') as any).tooltip();\n  ($('.ui.dropdown') as any).dropdown();\n  ($('.ui.dropdown.item') as any).dropdown();\n\n  $('[data-toggle=\"popover\"]').on('focus', (e) => {\n    ($('[data-toggle=\"popover\"]:not(.popup__click)') as any).popover('hide');\n    ($(e.target) as any).popover('show');\n  });\n  $('[data-toggle=\"popover\"]').on('blur', (e) => {\n    if (!$(e.target).hasClass('popup__click')) {\n      ($(e.target) as any).popover('hide');\n    }\n  });\n\n  $('body').on('mousedown', (e) => {\n    const isPopover = (e: JQuery.UIEventBase<HTMLElement>) =>\n      $(e.target).data('toggle') === 'popover';\n    const isClickable = (e: JQuery.UIEventBase<HTMLElement>) =>\n      $(e.target).hasClass('popup__click');\n    const isPopupContent = (e: JQuery.UIEventBase<HTMLElement>) =>\n      $(e.target).parents('.popup__content').length > 0;\n    const isFocused = (e: JQuery.UIEventBase<HTMLElement>) =>\n      document.activeElement && $(document.activeElement).is($(e.target));\n\n    if (!isPopover(e) && !isClickable(e) && !isPopupContent(e)) {\n      return ($('[data-toggle=\"popover\"]') as any).popover('hide');\n    }\n    if (isPopover(e) && isClickable(e) && isFocused(e)) {\n      return ($(e.target) as any).popover('toggle');\n    }\n  });\n\n  (window as any).hljs.initHighlightingOnLoad();\n});\n"]}