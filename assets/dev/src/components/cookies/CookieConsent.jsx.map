{"version":3,"file":"CookieConsent.jsx","sourceRoot":"","sources":["../../../../src/components/cookies/CookieConsent.tsx"],"names":[],"mappings":"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","sourcesContent":["import React from 'react';\nimport ModalSelection from 'components/modal/ModalSelection';\nimport { consentOptions, setCookies } from 'components/cookies/utils';\nimport { selectCookiePreferences } from 'components/cookies/CookiePreferences';\nimport ReactDOM from 'react-dom';\n\nexport const CookieConsent = () => {\n  return (\n    <div className=\"form-inline\">\n      <p>\n        We use cookies on our website to enhance site navigation, analyze site usage, and assist in\n        our marketing efforts. By clicking &quot;Accept&quot;, you consent to the storing of cookies\n        on your device. You can change your cookie settings at any time by clicking &quot;Cookie\n        Preferences&quot;\n      </p>\n      <p>\n        <a href=\"https://www.cmu.edu/legal/privacy-notice.html\">Privacy Notice</a>\n      </p>\n    </div>\n  );\n};\n\nexport function selectCookieConsent(): void {\n  const footer = (\n    <>\n      <button\n        type=\"button\"\n        className=\"btn btn-primary\"\n        onClick={() => {\n          dismiss();\n          storeConsent();\n        }}\n      >\n        Accept\n      </button>\n      <button\n        type=\"button\"\n        className=\"btn btn-outline-primary\"\n        onClick={() => {\n          dismiss();\n          selectCookiePreferences();\n        }}\n      >\n        Cookie Preferences\n      </button>\n    </>\n  );\n  const cookieConsent = (\n    <ModalSelection\n      title=\"We use cookies\"\n      footer={footer}\n      onCancel={() => {\n        dismiss();\n      }}\n    >\n      <CookieConsent />\n    </ModalSelection>\n  );\n\n  display(cookieConsent);\n}\n\nconst storeConsent = () => {\n  const userOptions = consentOptions();\n  const days = 365 * 24 * 60 * 60 * 1000;\n  setCookies([\n    { name: '_cky_opt_choices', value: JSON.stringify(userOptions), duration: days },\n    { name: '_cky_opt_in', value: 'true', duration: days },\n  ]);\n};\n\nconst display = (c: any) => {\n  let cookieConsentEl = document.querySelector('#cookie_consent_display');\n  if (!cookieConsentEl) {\n    cookieConsentEl = document.createElement('div');\n    cookieConsentEl.id = 'cookie_consent_display';\n    document.body.appendChild(cookieConsentEl);\n  }\n  ReactDOM.render(c, cookieConsentEl);\n};\n\nconst dismiss = () => {\n  const cookiePrefs = document.querySelector('#cookie_consent_display');\n  if (cookiePrefs) {\n    ReactDOM.unmountComponentAtNode(cookiePrefs);\n  }\n};\n"]}