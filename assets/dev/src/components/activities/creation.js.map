{"version":3,"file":"creation.js","sourceRoot":"","sources":["../../../../src/components/activities/creation.ts"],"names":[],"mappings":"AAKA,MAAM,UAAU,oBAAoB,CAAC,QAAkB,EAAE,EAAc;IACrE,IAAK,MAAc,CAAC,gBAAgB,KAAK,SAAS,EAAE;QACjD,MAAc,CAAC,gBAAgB,GAAG,EAAE,CAAC;KACvC;IAEA,MAAc,CAAC,gBAAgB,CAAC,QAAQ,CAAC,EAAE,CAAC,GAAG,EAAE,CAAC;AACrD,CAAC;AAED,MAAM,UAAU,kBAAkB,CAChC,EAAU,EACV,OAAwB;IAExB,IAAK,MAAc,CAAC,gBAAgB,KAAK,SAAS,EAAE;QAClD,MAAM,EAAE,GAAI,MAAc,CAAC,gBAAgB,CAAC,EAAE,CAAC,CAAC;QAChD,IAAI,OAAO,EAAE,KAAK,UAAU,EAAE;YAC5B,OAAO,EAAE,CAAC,KAAK,CAAC,SAAS,EAAE,CAAC,OAAO,CAAC,CAAC,CAAC;SACvC;KACF;IACD,OAAO,OAAO,CAAC,MAAM,CAAC,yCAAyC,GAAG,EAAE,CAAC,CAAC;AACxE,CAAC","sourcesContent":["import { Manifest, ActivityModelSchema, CreationContext } from './types';\nimport { ResourceContext } from 'data/content/resource';\n\nexport type creationFn = (context: CreationContext) => Promise<ActivityModelSchema>;\n\nexport function registerCreationFunc(manifest: Manifest, fn: creationFn) {\n  if ((window as any).oliCreationFuncs === undefined) {\n    (window as any).oliCreationFuncs = {};\n  }\n\n  (window as any).oliCreationFuncs[manifest.id] = fn;\n}\n\nexport function invokeCreationFunc(\n  id: string,\n  context: ResourceContext,\n): Promise<ActivityModelSchema> {\n  if ((window as any).oliCreationFuncs !== undefined) {\n    const fn = (window as any).oliCreationFuncs[id];\n    if (typeof fn === 'function') {\n      return fn.apply(undefined, [context]);\n    }\n  }\n  return Promise.reject('could not invoke creation function for ' + id);\n}\n"]}