{"version":3,"file":"SimpleFeedback.jsx","sourceRoot":"","sources":["../../../../../../src/components/activities/common/responses/SimpleFeedback.tsx"],"names":[],"mappings":"AAAA,OAAO,EAAE,0BAA0B,EAAE,MAAM,wCAAwC,CAAC;AACpF,OAAO,EAAE,YAAY,EAAE,MAAM,qDAAqD,CAAC;AACnF,OAAO,EAAE,eAAe,EAAE,MAAM,wDAAwD,CAAC;AAEzF,OAAO,EAAE,kBAAkB,EAAE,oBAAoB,EAAE,MAAM,iCAAiC,CAAC;AAC3F,OAAO,KAAK,MAAM,OAAO,CAAC;AAO1B,MAAM,CAAC,MAAM,iBAAiB,GAAG,CAAC,MAAc,EAAE,EAAE;IAClD,MAAM,EAAE,KAAK,EAAE,QAAQ,EAAE,GAAG,0BAA0B,EAAY,CAAC;IAEnE,OAAO;QACL,eAAe,EAAE,kBAAkB,CAAC,KAAK,EAAE,MAAM,CAAC;QAClD,iBAAiB,EAAE,oBAAoB,CAAC,KAAK,EAAE,MAAM,CAAC;QACtD,cAAc,EAAE,CAAC,UAAkB,EAAE,OAAiB,EAAE,EAAE,CACxD,QAAQ,CAAC,eAAe,CAAC,oBAAoB,CAAC,UAAU,EAAE,OAAO,CAAC,CAAC;KACtE,CAAC;AACJ,CAAC,CAAC;AAEF,MAAM,CAAC,MAAM,cAAc,GAAoB,CAAC,EAAE,QAAQ,EAAE,MAAM,EAAE,EAAE,EAAE;IACtE,MAAM,EAAE,eAAe,EAAE,iBAAiB,EAAE,cAAc,EAAE,GAAG,iBAAiB,CAAC,MAAM,CAAC,CAAC;IAEzF,IAAI,OAAO,QAAQ,KAAK,UAAU,EAAE;QAClC,OAAO,QAAQ,CAAC,EAAE,eAAe,EAAE,iBAAiB,EAAE,cAAc,EAAE,CAAC,CAAC;KACzE;IAED,OAAO,CACL,EACE;MAAA,CAAC,YAAY,CACX,KAAK,CAAC,6BAA6B,CACnC,QAAQ,CAAC,CAAC,eAAe,CAAC,QAAQ,CAAC,CACnC,MAAM,CAAC,CAAC,CAAC,GAAG,EAAE,OAAO,EAAE,EAAE,CAAC,cAAc,CAAC,eAAe,CAAC,EAAE,EAAE,OAAO,CAAC,CAAC,CACtE,WAAW,CAAC,yDAAyD,EAEvE;MAAA,CAAC,YAAY,CACX,KAAK,CAAC,gCAAgC,CACtC,QAAQ,CAAC,CAAC,iBAAiB,CAAC,QAAQ,CAAC,CACrC,MAAM,CAAC,CAAC,CAAC,GAAG,EAAE,OAAO,EAAE,EAAE,CAAC,cAAc,CAAC,iBAAiB,CAAC,EAAE,EAAE,OAAO,CAAC,CAAC,CACxE,WAAW,CAAC,gDAAgD,EAEhE;IAAA,GAAG,CACJ,CAAC;AACJ,CAAC,CAAC","sourcesContent":["import { useAuthoringElementContext } from 'components/activities/AuthoringElement';\nimport { FeedbackCard } from 'components/activities/common/responses/FeedbackCard';\nimport { ResponseActions } from 'components/activities/common/responses/responseActions';\nimport { HasParts, RichText } from 'components/activities/types';\nimport { getCorrectResponse, getIncorrectResponse } from 'data/activities/model/responses';\nimport React from 'react';\n\ninterface Props {\n  partId: string;\n  children?: (xs: ReturnType<typeof useSimpleFeedback>) => React.ReactElement;\n}\n\nexport const useSimpleFeedback = (partId: string) => {\n  const { model, dispatch } = useAuthoringElementContext<HasParts>();\n\n  return {\n    correctResponse: getCorrectResponse(model, partId),\n    incorrectResponse: getIncorrectResponse(model, partId),\n    updateFeedback: (responseId: string, content: RichText) =>\n      dispatch(ResponseActions.editResponseFeedback(responseId, content)),\n  };\n};\n\nexport const SimpleFeedback: React.FC<Props> = ({ children, partId }) => {\n  const { correctResponse, incorrectResponse, updateFeedback } = useSimpleFeedback(partId);\n\n  if (typeof children === 'function') {\n    return children({ correctResponse, incorrectResponse, updateFeedback });\n  }\n\n  return (\n    <>\n      <FeedbackCard\n        title=\"Feedback for correct answer\"\n        feedback={correctResponse.feedback}\n        update={(_id, content) => updateFeedback(correctResponse.id, content)}\n        placeholder=\"Encourage students or explain why the answer is correct\"\n      />\n      <FeedbackCard\n        title=\"Feedback for incorrect answers\"\n        feedback={incorrectResponse.feedback}\n        update={(_id, content) => updateFeedback(incorrectResponse.id, content)}\n        placeholder=\"Enter catch-all feedback for incorrect answers\"\n      />\n    </>\n  );\n};\n"]}