{"version":3,"file":"TargetedFeedback.jsx","sourceRoot":"","sources":["../../../../../../src/components/activities/ordering/sections/TargetedFeedback.tsx"],"names":[],"mappings":"AAAA,OAAO,EAAE,0BAA0B,EAAE,MAAM,wCAAwC,CAAC;AACpF,OAAO,EAAE,wBAAwB,EAAE,MAAM,wDAAwD,CAAC;AAClG,OAAO,EAAE,eAAe,EAAE,MAAM,wDAAwD,CAAC;AACzF,OAAO,EAAE,YAAY,EAAE,MAAM,qDAAqD,CAAC;AACnF,OAAO,EAAE,OAAO,EAAE,MAAM,wCAAwC,CAAC;AAEjE,OAAO,EAAE,eAAe,EAAE,MAAM,yDAAyD,CAAC;AAC1F,OAAO,EAAE,OAAO,EAAE,MAAM,+BAA+B,CAAC;AACxD,OAAO,EAAE,2BAA2B,EAAE,MAAM,iCAAiC,CAAC;AAC9E,OAAO,KAAK,MAAM,OAAO,CAAC;AAE1B,MAAM,CAAC,MAAM,gBAAgB,GAAa,GAAG,EAAE;IAC7C,MAAM,EAAE,KAAK,EAAE,QAAQ,EAAE,GAAG,0BAA0B,EAAkB,CAAC;IACzE,OAAO,CACL,EACE;MAAA,CAAC,2BAA2B,CAAC,KAAK,CAAC,CAAC,GAAG,CAAC,CAAC,OAAO,EAAE,EAAE,CAAC,CACnD,CAAC,YAAY,CACX,KAAK,CAAC,mBAAmB,CACzB,QAAQ,CAAC,CAAC,OAAO,CAAC,QAAQ,CAAC,CAC3B,cAAc,CAAC,CAAC,CAAC,EAAE,EAAE,OAAO,EAAE,EAAE,CAC9B,QAAQ,CAAC,eAAe,CAAC,oBAAoB,CAAC,OAAO,CAAC,QAAQ,CAAC,EAAE,EAAE,OAAO,CAAC,CAAC,CAC7E,CACD,cAAc,CAAC,CAAC,CAAC,EAAE,EAAE,EAAE,CAAC,QAAQ,CAAC,eAAe,CAAC,sBAAsB,CAAC,EAAE,CAAC,CAAC,CAAC,CAC7E,GAAG,CAAC,CAAC,OAAO,CAAC,QAAQ,CAAC,EAAE,CAAC,CAEzB;UAAA,CAAC,eAAe,CACd,OAAO,CAAC,CAAC,OAAO,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,EAAE,EAAE,EAAE,CAAC,OAAO,CAAC,MAAM,CAAC,KAAK,EAAE,EAAE,CAAC,CAAC,CAAC,CAClE,UAAU,CAAC,CAAC,CAAC,OAAO,EAAE,EAAE,CACtB,QAAQ,CACN,OAAO,CAAC,2BAA2B,CACjC,OAAO,CAAC,QAAQ,CAAC,EAAE,EACnB,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CACzB,CACF,CACF,EAEL;QAAA,EAAE,YAAY,CAAC,CAChB,CAAC,CACF;MAAA,CAAC,wBAAwB,CACvB,SAAS,CAAC,+BAA+B,CACzC,MAAM,CAAC,CAAC,GAAG,EAAE,CAAC,QAAQ,CAAC,OAAO,CAAC,mBAAmB,EAAE,CAAC,CAAC,CAEtD;;MACF,EAAE,wBAAwB,CAC5B;IAAA,GAAG,CACJ,CAAC;AACJ,CAAC,CAAC","sourcesContent":["import { useAuthoringElementContext } from 'components/activities/AuthoringElement';\nimport { AuthoringButtonConnected } from 'components/activities/common/authoring/AuthoringButton';\nimport { ResponseActions } from 'components/activities/common/responses/responseActions';\nimport { ResponseCard } from 'components/activities/common/responses/ResponseCard';\nimport { Actions } from 'components/activities/ordering/actions';\nimport { OrderingSchema } from 'components/activities/ordering/schema';\nimport { ResponseChoices } from 'components/activities/ordering/sections/ResponseChoices';\nimport { Choices } from 'data/activities/model/choices';\nimport { getTargetedResponseMappings } from 'data/activities/model/responses';\nimport React from 'react';\n\nexport const TargetedFeedback: React.FC = () => {\n  const { model, dispatch } = useAuthoringElementContext<OrderingSchema>();\n  return (\n    <>\n      {getTargetedResponseMappings(model).map((mapping) => (\n        <ResponseCard\n          title=\"Targeted feedback\"\n          response={mapping.response}\n          updateFeedback={(id, content) =>\n            dispatch(ResponseActions.editResponseFeedback(mapping.response.id, content))\n          }\n          removeResponse={(id) => dispatch(ResponseActions.removeTargetedFeedback(id))}\n          key={mapping.response.id}\n        >\n          <ResponseChoices\n            choices={mapping.choiceIds.map((id) => Choices.getOne(model, id))}\n            setChoices={(choices) =>\n              dispatch(\n                Actions.editTargetedFeedbackChoices(\n                  mapping.response.id,\n                  choices.map((c) => c.id),\n                ),\n              )\n            }\n          />\n        </ResponseCard>\n      ))}\n      <AuthoringButtonConnected\n        className=\"align-self-start btn btn-link\"\n        action={() => dispatch(Actions.addTargetedFeedback())}\n      >\n        Add targeted feedback\n      </AuthoringButtonConnected>\n    </>\n  );\n};\n"]}