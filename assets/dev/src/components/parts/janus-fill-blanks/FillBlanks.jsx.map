{"version":3,"file":"FillBlanks.jsx","sourceRoot":"","sources":["../../../../../src/components/parts/janus-fill-blanks/FillBlanks.tsx"],"names":[],"mappings":";;;;;;;;;AAAA,OAAO,KAAK,EAAE,EAAiB,WAAW,EAAE,SAAS,EAAE,MAAM,EAAE,QAAQ,EAAE,MAAM,OAAO,CAAC;AACvF,OAAO,OAAO,MAAM,uBAAuB,CAAC;AAC5C,OAAO,EAAE,iBAAiB,EAAE,MAAM,0BAA0B,CAAC;AAC7D,OAAO,EACL,gBAAgB,EAChB,uBAAuB,GACxB,MAAM,uDAAuD,CAAC;AAC/D,OAAO,EAAE,QAAQ,EAAE,MAAM,mCAAmC,CAAC;AAC7D,OAAO,EAAE,WAAW,EAAE,MAAM,yBAAyB,CAAC;AAGtD,8DAA8D;AAC9D,MAAM,GAAG,GAAG,OAAO,CAAC,kBAAkB,CAAC,CAAC;AACxC,8DAA8D;AAC9D,MAAM,KAAK,GAAG,OAAO,CAAC,aAAa,CAAC,CAAC;AACrC,8DAA8D;AAC9D,MAAM,aAAa,GAAG,OAAO,CAAC,uCAAuC,CAAC,CAAC;AACvE,MAAM,CAAC,MAAM,SAAS,GAAG,CAAC,GAAQ,EAAE,EAAE;IACpC,uBAAuB;IACvB,MAAM,GAAG,GAAW,CAAC,GAAG,CAAC;IACzB,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,WAAW,EAAE,CAAC,OAAO,CAAC,OAAO,EAAE,EAAE,CAAC,CAAC;AAChF,CAAC,CAAC;AAMF,MAAM,UAAU,GAA2C,CAAC,KAAK,EAAE,EAAE;IACnE,MAAM,EAAE,GAAW,KAAK,CAAC,EAAE,CAAC;IAC5B,MAAM,CAAC,KAAK,EAAE,QAAQ,CAAC,GAAG,QAAQ,CAAQ,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;IACzF,MAAM,CAAC,KAAK,EAAE,QAAQ,CAAC,GAAG,QAAQ,CAAM,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;IACvF,MAAM,CAAC,aAAa,EAAE,gBAAgB,CAAC,GAAG,QAAQ,CAAM,EAAE,CAAC,CAAC;IAC5D,MAAM,CAAC,YAAY,EAAE,eAAe,CAAC,GAAG,QAAQ,CAAU,KAAK,CAAC,CAAC;IACjE,MAAM,CAAC,WAAW,EAAE,cAAc,CAAC,GAAG,QAAQ,CAAM,EAAE,CAAC,CAAC;IACxD,MAAM,EACJ,CAAC,GAAG,CAAC,EACL,CAAC,GAAG,CAAC,EACL,CAAC,GAAG,CAAC,EACL,KAAK,EACL,MAAM,EACN,OAAO,EACP,QAAQ,EACR,yBAAyB,GAC1B,GAAG,KAAK,CAAC;IACV,MAAM,YAAY,GAAG,MAAM,CAAC,IAAI,CAAC,CAAC;IAElC,MAAM,CAAC,SAAS,EAAE,YAAY,CAAC,GAAG,QAAQ,CAAU,KAAK,CAAC,CAAC;IAC3D,MAAM,CAAC,WAAW,EAAE,cAAc,CAAC,GAAG,QAAQ,CAAQ,EAAE,CAAC,CAAC;IAC1D,MAAM,CAAC,aAAa,EAAE,gBAAgB,CAAC,GAAG,QAAQ,CAAQ,EAAE,CAAC,CAAC;IAC9D,MAAM,CAAC,UAAU,EAAE,aAAa,CAAC,GAAG,QAAQ,EAAgB,CAAC;IAE7D,SAAS,CAAC,GAAG,EAAE;QACb,IAAI,MAAM,CAAC;QACX,IAAI,MAAM,CAAC;QACX,IAAI,OAAO,CAAA,KAAK,aAAL,KAAK,uBAAL,KAAK,CAAE,KAAK,CAAA,KAAK,QAAQ,EAAE;YACpC,IAAI;gBACF,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;gBACjC,QAAQ,CAAC,MAAM,CAAC,CAAC;aAClB;YAAC,OAAO,GAAG,EAAE;gBACZ,qBAAqB;aACtB;SACF;QACD,IAAI,OAAO,CAAA,KAAK,aAAL,KAAK,uBAAL,KAAK,CAAE,KAAK,CAAA,KAAK,QAAQ,EAAE;YACpC,IAAI;gBACF,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;gBACjC,QAAQ,CAAC,MAAM,CAAC,CAAC;aAClB;YAAC,OAAO,GAAG,EAAE;gBACZ,qBAAqB;aACtB;SACF;QACD,IAAI,CAAC,MAAM,EAAE;YACX,OAAO;SACR;QACD,UAAU,CAAC,MAAM,CAAC,CAAC;IACrB,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC;IACZ,MAAM,iBAAiB,GAAG,WAAW,CAAQ,aAAa,CAAC,CAAC;IAE5D,MAAM,CAAC,OAAO,EAAE,UAAU,CAAC,GAAG,QAAQ,CAAU,CAAA,KAAK,aAAL,KAAK,uBAAL,KAAK,CAAE,OAAO,EAAC,CAAC,CAAC,SAAS,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;IAClG,MAAM,CAAC,OAAO,EAAE,UAAU,CAAC,GAAG,QAAQ,CACpC,CAAA,KAAK,aAAL,KAAK,uBAAL,KAAK,CAAE,OAAO,EAAC,CAAC,CAAC,SAAS,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,KAAK,CAClD,CAAC;IACF,MAAM,CAAC,WAAW,EAAE,cAAc,CAAC,GAAG,QAAQ,CAC5C,CAAA,KAAK,aAAL,KAAK,uBAAL,KAAK,CAAE,WAAW,EAAC,CAAC,CAAC,SAAS,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,KAAK,CAC1D,CAAC;IACF,MAAM,CAAC,SAAS,EAAE,YAAY,CAAC,GAAG,QAAQ,CACxC,CAAA,KAAK,aAAL,KAAK,uBAAL,KAAK,CAAE,SAAS,EAAC,CAAC,CAAC,SAAS,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,KAAK,CACtD,CAAC;IACF,MAAM,CAAC,SAAS,EAAE,YAAY,CAAC,GAAG,QAAQ,CAAS,CAAA,KAAK,aAAL,KAAK,uBAAL,KAAK,CAAE,SAAS,EAAC,CAAC,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;IAC5F,MAAM,CAAC,cAAc,EAAE,iBAAiB,CAAC,GAAG,QAAQ,CAClD,CAAA,KAAK,aAAL,KAAK,uBAAL,KAAK,CAAE,SAAS,EAAC,CAAC,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE,CACxC,CAAC;IACF,MAAM,CAAC,KAAK,EAAE,QAAQ,CAAC,GAAG,QAAQ,CAAU,KAAK,CAAC,CAAC;IACnD,MAAM,aAAa,GAAkB;QACnC;;;;qBAIa;QACb,MAAM;QACN,YAAY,EAAE,KAAK;QACnB,UAAU,EAAE,QAAQ;KACrB,CAAC;IACF,SAAS,CAAC,GAAG,EAAE;QACb,MAAM,YAAY,GAAQ,EAAE,CAAC;QAC7B,IAAI,KAAK,KAAK,SAAS,EAAE;YACvB,YAAY,CAAC,KAAK,GAAG,EAAE,KAAK,EAAE,KAAe,EAAE,CAAC;SACjD;QACD,IAAI,MAAM,IAAI,SAAS,EAAE;YACvB,YAAY,CAAC,MAAM,GAAG,EAAE,KAAK,EAAE,MAAgB,EAAE,CAAC;SACnD;QACD,KAAK,CAAC,QAAQ,CAAC,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,QAAQ,EAAE,YAAY,EAAE,CAAC,CAAC;IAC1D,CAAC,EAAE,CAAC,KAAK,EAAE,MAAM,CAAC,CAAC,CAAC;IACpB,MAAM,UAAU,GAAG,WAAW,CAAC,CAAO,MAAM,EAAE,EAAE;;QAC9C,MAAM,aAAa,GAAU,MAAA,MAAM,aAAN,MAAM,uBAAN,MAAM,CAAE,QAAQ,0CAAE,GAAG,CAAC,CAAC,EAAO,EAAE,EAAE;;YAC7D,MAAM,GAAG,GAAW,oBAAoB,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC;YACjD,MAAM,KAAK,GAAW,MAAA,MAAM,aAAN,MAAM,uBAAN,MAAM,CAAE,QAAQ,0CAAE,SAAS,CAAC,CAAC,CAAM,EAAE,EAAE,CAAC,CAAC,CAAC,GAAG,KAAK,EAAE,CAAC,GAAG,CAAC,CAAC;YAEhF,OAAO;gBACL;oBACE,GAAG,EAAE,SAAS,KAAK,GAAG,CAAC,QAAQ;oBAC/B,IAAI,EAAE,iBAAiB,CAAC,MAAM;oBAC9B,KAAK,EAAE,GAAG,IAAI,EAAE;iBACjB;gBACD;oBACE,GAAG,EAAE,SAAS,KAAK,GAAG,CAAC,UAAU;oBACjC,IAAI,EAAE,iBAAiB,CAAC,OAAO;oBAC/B,KAAK,EAAE,SAAS,CAAC,GAAG,EAAE,EAAE,CAAC,OAAO,EAAE,EAAE,CAAC,gBAAgB,CAAC;iBACvD;gBACD,EAAE,GAAG,EAAE,aAAa,EAAE,IAAI,EAAE,iBAAiB,CAAC,OAAO,EAAE,KAAK,EAAE,MAAM,CAAC,WAAW,EAAE;gBAClF,EAAE,GAAG,EAAE,WAAW,EAAE,IAAI,EAAE,iBAAiB,CAAC,OAAO,EAAE,KAAK,EAAE,MAAM,CAAC,SAAS,EAAE;aAC/E,CAAC;QACJ,CAAC,CAAC,CAAC;QACH,MAAM,oBAAoB,GAAG,EAAE,CAAC,MAAM,CAAC,GAAG,aAAa,CAAC,CAAC;QACzD,MAAM,UAAU,GAAG,MAAM,KAAK,CAAC,MAAM,CAAC;YACpC,EAAE;YACF,SAAS,EAAE,CAAC,GAAG,oBAAoB,CAAC;SACrC,CAAC,CAAC;QACH,sHAAsH;QACtH,kDAAkD;QAClD,IAAI,MAAM,aAAN,MAAM,uBAAN,MAAM,CAAE,SAAS,EAAE;YACrB,YAAY,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC;SAChC;QACD,uEAAuE;QACvE,MAAM,oBAAoB,GAAG,UAAU,CAAC,QAAQ,CAAC;QACjD,gBAAgB,CAAC,oBAAoB,CAAC,CAAC;QACvC,MAAM,QAAQ,GAAG,oBAAoB,CAAC,SAAS,EAAE,UAAU,CAAC,CAAC;QAC7D,IAAI,QAAQ,EAAE;YACZ,UAAU,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC,CAAC;SACjC;QAED,MAAM,YAAY,GAAG,oBAAoB,CAAC,SAAS,EAAE,cAAc,CAAC,CAAC;QACrE,IAAI,YAAY,EAAE;YAChB,cAAc,CAAC,SAAS,CAAC,YAAY,CAAC,CAAC,CAAC;YACxC,MAAM,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC,EAAuB,EAAE,EAAE;gBAClD,UAAU,CAAC,GAAG,EAAE;oBACd,aAAa,CAAC;wBACZ,GAAG,EAAE,EAAE,CAAC,GAAG;wBACX,KAAK,EAAE,EAAE,CAAC,OAAO;qBAClB,CAAC,CAAC;gBACL,CAAC,CAAC,CAAC;YACL,CAAC,CAAC,CAAC;SACJ;QAED,MAAM,UAAU,GAAG,oBAAoB,CAAC,SAAS,EAAE,YAAY,CAAC,CAAC;QACjE,IAAI,UAAU,EAAE;YACd,YAAY,CAAC,SAAS,CAAC,UAAU,CAAC,CAAC,CAAC;SACrC;QAED,MAAM,UAAU,GAAG,oBAAoB,CAAC,SAAS,EAAE,YAAY,CAAC,CAAC;QACjE,IAAI,UAAU,EAAE;YACd,YAAY,CAAC,UAAU,CAAC,CAAC;SAC1B;QAED,MAAM,eAAe,GAAG,oBAAoB,CAAC,SAAS,EAAE,iBAAiB,CAAC,CAAC;QAC3E,IAAI,QAAQ,EAAE;YACZ,iBAAiB,CAAC,eAAe,CAAC,CAAC;SACpC;QAED,MAAM,UAAU,GAAG,oBAAoB,CAAC,SAAS,EAAE,YAAY,CAAC,CAAC;QACjE,IAAI,UAAU,EAAE;YACd,YAAY,CAAC,SAAS,CAAC,UAAU,CAAC,CAAC,CAAC;SACrC;QACD,8FAA8F;QAC9F,IAAI,UAAU,CAAC,OAAO,CAAC,IAAI,KAAK,QAAQ,CAAC,MAAM,EAAE;YAC/C,UAAU,CAAC,KAAK,CAAC,CAAC;SACnB;QACD,QAAQ,CAAC,IAAI,CAAC,CAAC;IACjB,CAAC,CAAA,EAAE,EAAE,CAAC,CAAC;IAEP,SAAS,CAAC,GAAG,EAAE;QACb,IAAI,CAAC,KAAK,EAAE;YACV,OAAO;SACR;QACD,KAAK,CAAC,OAAO,CAAC,EAAE,EAAE,EAAE,SAAS,EAAE,EAAE,EAAE,CAAC,CAAC;IACvC,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC;IAEZ,SAAS,CAAC,GAAG,EAAE;QACb,0CAA0C;QAC1C,IAAI,QAAQ,aAAR,QAAQ,uBAAR,QAAQ,CAAE,MAAM,EAAE;YACpB,kBAAkB,CAAC,aAAa,CAAC,CAAC;YAClC,cAAc,CAAC,gBAAgB,CAAC,CAAC;SAClC;IACH,CAAC,EAAE,CAAC,QAAQ,EAAE,aAAa,CAAC,CAAC,CAAC;IAE9B,SAAS,CAAC,GAAG,EAAE;QACb,0CAA0C;QAC1C,IAAI,CAAA,QAAQ,aAAR,QAAQ,uBAAR,QAAQ,CAAE,MAAM,KAAI,YAAY,EAAE;YACpC,kBAAkB,CAAC,WAAW,CAAC,CAAC;YAChC,cAAc,CAAC,gBAAgB,CAAC,CAAC;YACjC,eAAe,CAAC,KAAK,CAAC,CAAC;SACxB;IACH,CAAC,EAAE,CAAC,QAAQ,EAAE,YAAY,EAAE,WAAW,CAAC,CAAC,CAAC;IAE1C,SAAS,CAAC,GAAG,EAAE;QACb,4CAA4C;QAC5C,IACE,iBAAiB;YACjB,CAAC,CAAC,iBAAiB,CAAC,MAAM,GAAG,CAAC,IAAI,aAAa,CAAC,MAAM,GAAG,CAAC,CAAC;gBACzD,iGAAiG;gBACjG,CAAC,iBAAiB,CAAC,MAAM,GAAG,CAAC;oBAC3B,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC,GAAG,EAAE,EAAE,CAAC,iBAAiB,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EACpE;YACA,YAAY,EAAE,CAAC;YACf,cAAc,CAAC,gBAAgB,CAAC,CAAC;SAClC;IACH,CAAC,EAAE,CAAC,aAAa,CAAC,CAAC,CAAC;IAEpB,SAAS,CAAC,GAAG,EAAE;QACb,sDAAsD;QACtD,IAAI,UAAU,EAAE;YACd,gBAAgB,CAAC,CAAC,UAAU,EAAE,GAAG,aAAa,CAAC,MAAM,CAAC,CAAC,GAAG,EAAE,EAAE,CAAC,UAAU,CAAC,GAAG,MAAK,GAAG,aAAH,GAAG,uBAAH,GAAG,CAAE,GAAG,CAAA,CAAC,CAAC,CAAC,CAAC;SAC/F;IACH,CAAC,EAAE,CAAC,UAAU,CAAC,CAAC,CAAC;IAEjB,SAAS,CAAC,GAAG,EAAE;QACb,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE;YACjB,OAAO;SACR;QACD,MAAM,oBAAoB,GAAG;YAC3B,gBAAgB,CAAC,aAAa;YAC9B,gBAAgB,CAAC,cAAc;YAC/B,gBAAgB,CAAC,eAAe;YAChC,gBAAgB,CAAC,aAAa;SAC/B,CAAC;QACF,MAAM,aAAa,GAAG,oBAAoB,CAAC,GAAG,CAAC,CAAC,gBAAkC,EAAE,EAAE;YACpF,MAAM,OAAO,GAAG,CAAC,OAAY,EAAE,EAAE;gBAC/B,gGAAgG;gBAChG,QAAQ,gBAAgB,EAAE;oBACxB,KAAK,gBAAgB,CAAC,aAAa;wBACjC,gBAAgB;wBAChB,MAAM;oBACR,KAAK,gBAAgB,CAAC,cAAc;wBAClC,gBAAgB;wBAChB,MAAM;oBACR,KAAK,gBAAgB,CAAC,aAAa;wBACjC,MAAM,EAAE,aAAa,EAAE,OAAO,EAAE,GAAG,OAAO,CAAC;wBAC3C,eAAe,CAAC,IAAI,CAAC,CAAC;wBACtB,cAAc,CAAC,OAAO,CAAC,CAAC;wBACxB,MAAM,QAAQ,GAAG,OAAO,CAAC,SAAS,EAAE,UAAU,CAAC,CAAC;wBAChD,IAAI,QAAQ,EAAE;4BACZ,UAAU,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC,CAAC;yBACjC;wBACD,MAAM,YAAY,GAAG,OAAO,CAAC,SAAS,EAAE,cAAc,CAAC,CAAC;wBACxD,IAAI,YAAY,EAAE;4BAChB,cAAc,CAAC,SAAS,CAAC,YAAY,CAAC,CAAC,CAAC;4BACxC,KAAK,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC,EAAuB,EAAE,EAAE;gCACjD,UAAU,CAAC,GAAG,EAAE;oCACd,aAAa,CAAC;wCACZ,GAAG,EAAE,EAAE,CAAC,GAAG;wCACX,KAAK,EAAE,EAAE,CAAC,OAAO;qCAClB,CAAC,CAAC;gCACL,CAAC,CAAC,CAAC;4BACL,CAAC,CAAC,CAAC;yBACJ;wBACD,MAAM,SAAS,GAAG,OAAO,CAAC,SAAS,EAAE,YAAY,CAAC,CAAC;wBACnD,IAAI,SAAS,EAAE;4BACb,YAAY,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC,CAAC;yBACpC;wBACD,MAAM,UAAU,GAAG,OAAO,CAAC,SAAS,EAAE,YAAY,CAAC,CAAC;wBACpD,IAAI,UAAU,EAAE;4BACd,YAAY,CAAC,UAAU,CAAC,CAAC;yBAC1B;wBACD,MAAM,eAAe,GAAG,OAAO,CAAC,SAAS,EAAE,iBAAiB,CAAC,CAAC;wBAC9D,IAAI,eAAe,EAAE;4BACnB,iBAAiB,CAAC,eAAe,CAAC,CAAC;yBACpC;wBACD,MAAM,UAAU,GAAG,OAAO,CAAC,SAAS,EAAE,YAAY,CAAC,CAAC;wBACpD,IAAI,UAAU,EAAE;4BACd,YAAY,CAAC,SAAS,CAAC,UAAU,CAAC,CAAC,CAAC;yBACrC;wBACD,MAAM;oBACR,KAAK,gBAAgB,CAAC,eAAe;wBACnC;4BACE,MAAM,EAAE,cAAc,EAAE,OAAO,EAAE,GAAG,OAAO,CAAC;4BAC5C,MAAM,QAAQ,GAAG,OAAO,CAAC,SAAS,EAAE,UAAU,CAAC,CAAC;4BAChD,IAAI,QAAQ,EAAE;gCACZ,UAAU,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC,CAAC;6BACjC;4BACD,MAAM,YAAY,GAAG,OAAO,CAAC,SAAS,EAAE,cAAc,CAAC,CAAC;4BACxD,IAAI,YAAY,EAAE;gCAChB,cAAc,CAAC,SAAS,CAAC,YAAY,CAAC,CAAC,CAAC;gCACxC,KAAK,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC,EAAuB,EAAE,EAAE;oCACjD,UAAU,CAAC,GAAG,EAAE;wCACd,aAAa,CAAC;4CACZ,GAAG,EAAE,EAAE,CAAC,GAAG;4CACX,KAAK,EAAE,EAAE,CAAC,OAAO;yCAClB,CAAC,CAAC;oCACL,CAAC,CAAC,CAAC;gCACL,CAAC,CAAC,CAAC;6BACJ;4BACD,MAAM,SAAS,GAAG,OAAO,CAAC,SAAS,EAAE,YAAY,CAAC,CAAC;4BACnD,IAAI,SAAS,EAAE;gCACb,YAAY,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC,CAAC;6BACpC;4BACD,MAAM,UAAU,GAAG,OAAO,CAAC,SAAS,EAAE,YAAY,CAAC,CAAC;4BACpD,IAAI,UAAU,EAAE;gCACd,YAAY,CAAC,UAAU,CAAC,CAAC;6BAC1B;4BACD,MAAM,eAAe,GAAG,OAAO,CAAC,SAAS,EAAE,iBAAiB,CAAC,CAAC;4BAC9D,IAAI,eAAe,EAAE;gCACnB,iBAAiB,CAAC,eAAe,CAAC,CAAC;6BACpC;4BACD,MAAM,UAAU,GAAG,OAAO,CAAC,SAAS,EAAE,YAAY,CAAC,CAAC;4BACpD,IAAI,UAAU,EAAE;gCACd,YAAY,CAAC,SAAS,CAAC,UAAU,CAAC,CAAC,CAAC;6BACrC;yBACF;wBACD,MAAM;iBACT;YACH,CAAC,CAAC;YACF,MAAM,KAAK,GAAG,uBAAuB,CAAC,KAAK,CAAC,MAAM,EAAE,gBAAgB,EAAE,OAAO,CAAC,CAAC;YAC/E,OAAO,KAAK,CAAC;QACf,CAAC,CAAC,CAAC;QACH,OAAO,GAAG,EAAE;YACV,aAAa,CAAC,OAAO,CAAC,CAAC,KAAK,EAAE,EAAE;gBAC9B,KAAK,EAAE,CAAC;YACV,CAAC,CAAC,CAAC;QACL,CAAC,CAAC;IACJ,CAAC,EAAE,CAAC,KAAK,CAAC,MAAM,EAAE,KAAK,CAAC,CAAC,CAAC;IAE1B,MAAM,WAAW,GAAG,CAAC,CAAM,EAAE,EAAE;QAC7B,IAAI,CAAC,CAAC,IAAI,OAAO,CAAC,KAAK,WAAW;YAAE,OAAO;QAC3C,IAAI,iBAAiB,IAAI,iBAAiB,CAAC,MAAM,GAAG,CAAC,EAAE;YACrD,YAAY,CAAC,IAAI,CAAC,CAAC;SACpB;QACD,aAAa,CAAC;YACZ,GAAG,EAAE,CAAC,aAAD,CAAC,uBAAD,CAAC,CAAE,IAAI;YACZ,KAAK,EAAE,CAAC,aAAD,CAAC,uBAAD,CAAC,CAAE,KAAK;SAChB,CAAC,CAAC;IACL,CAAC,CAAC;IAEF,MAAM,oBAAoB,GAAG,CAAC,GAAW,EAAE,EAAE;QAC3C,8CAA8C;QAC9C,IAAI,CAAC,GAAG,IAAI,OAAO,GAAG,KAAK,WAAW,IAAI,CAAC,CAAA,aAAa,aAAb,aAAa,uBAAb,aAAa,CAAE,MAAM,CAAA;YAAE,OAAO;QACzE,MAAM,GAAG,GAAG,aAAa,aAAb,aAAa,uBAAb,aAAa,CAAE,IAAI,CAAC,CAAC,GAAG,EAAE,EAAE,CAAC,GAAG,CAAC,GAAG,KAAK,GAAG,CAAC,CAAC;QAC1D,OAAO,OAAO,GAAG,KAAK,WAAW,KAAI,GAAG,aAAH,GAAG,uBAAH,GAAG,CAAE,KAAK,CAAA,CAAC,CAAC,CAAC,GAAG,CAAC,KAAK,CAAC,QAAQ,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC;IAC9E,CAAC,CAAC;IAEF,kBAAkB;IAClB,MAAM,SAAS,GAAG,CAAC,UAAkB,EAAE,OAAe,EAAE,gBAAwB,EAAE,EAAE;QAClF,IAAI,CAAC,UAAU,IAAI,CAAC,OAAO;YAAE,OAAO,KAAK,CAAC;QAE1C,MAAM,YAAY,GAChB,OAAO,gBAAgB,KAAK,WAAW;YACrC,CAAC,CAAC,CAAC,OAAO,EAAE,GAAG,gBAAgB,CAAC,KAAK,CAAC,yBAAyB,CAAC,CAAC;YACjE,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC;QAEhB,OAAO,YAAY,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC;IAC3C,CAAC,CAAC;IAEF,MAAM,YAAY,GAAG,GAAG,EAAE;QACxB,IAAI,CAAC,CAAA,QAAQ,aAAR,QAAQ,uBAAR,QAAQ,CAAE,MAAM,CAAA;YAAE,OAAO;QAE9B,MAAM,UAAU,GAAG,QAAQ,CAAC,KAAK,CAC/B,CAAC,OAAmE,EAAE,EAAE;YACtE,MAAM,KAAK,GAAG,oBAAoB,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;YAChD,OAAO,SAAS,CAAC,KAAK,EAAE,OAAO,CAAC,OAAO,EAAE,OAAO,CAAC,gBAAgB,CAAC,CAAC;QACrE,CAAC,CACF,CAAC;QACF,UAAU,CAAC,UAAU,CAAC,CAAC;QAEvB,wEAAwE;QACxE,MAAM,aAAa,GAAU,QAAQ,CAAC,GAAG,CAAC,CAAC,EAAO,EAAE,EAAE;YACpD,MAAM,GAAG,GAAW,oBAAoB,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC;YACjD,MAAM,KAAK,GAAW,QAAQ,CAAC,SAAS,CAAC,CAAC,CAAM,EAAE,EAAE,CAAC,CAAC,CAAC,GAAG,KAAK,EAAE,CAAC,GAAG,CAAC,CAAC;YAEvE,OAAO;gBACL;oBACE,GAAG,EAAE,SAAS,KAAK,GAAG,CAAC,QAAQ;oBAC/B,IAAI,EAAE,iBAAiB,CAAC,MAAM;oBAC9B,KAAK,EAAE,GAAG;iBACX;gBACD;oBACE,GAAG,EAAE,SAAS,KAAK,GAAG,CAAC,UAAU;oBACjC,IAAI,EAAE,iBAAiB,CAAC,OAAO;oBAC/B,KAAK,EAAE,SAAS,CAAC,GAAG,EAAE,EAAE,CAAC,OAAO,EAAE,EAAE,CAAC,gBAAgB,CAAC;iBACvD;aACF,CAAC;QACJ,CAAC,CAAC,CAAC;QACH,gBAAgB;QAChB,IAAI;YACF,MAAM,oBAAoB,GAAG,EAAE,CAAC,MAAM,CAAC,GAAG,aAAa,CAAC,CAAC;YAEzD,KAAK,CAAC,MAAM,CAAC;gBACX,EAAE,EAAE,GAAG,EAAE,EAAE;gBACX,SAAS,EAAE;oBACT,GAAG,oBAAoB;oBACvB;wBACE,GAAG,EAAE,SAAS;wBACd,IAAI,EAAE,iBAAiB,CAAC,OAAO;wBAC/B,KAAK,EAAE,OAAO;qBACf;oBACD;wBACE,GAAG,EAAE,aAAa;wBAClB,IAAI,EAAE,iBAAiB,CAAC,OAAO;wBAC/B,KAAK,EAAE,WAAW;qBACnB;oBACD;wBACE,GAAG,EAAE,WAAW;wBAChB,IAAI,EAAE,iBAAiB,CAAC,MAAM;wBAC9B,KAAK,EAAE,SAAS;qBACjB;oBACD;wBACE,GAAG,EAAE,gBAAgB;wBACrB,IAAI,EAAE,iBAAiB,CAAC,MAAM;wBAC9B,KAAK,EAAE,cAAc;qBACtB;oBACD;wBACE,GAAG,EAAE,SAAS;wBACd,IAAI,EAAE,iBAAiB,CAAC,OAAO;wBAC/B,KAAK,EAAE,UAAU;qBAClB;oBACD;wBACE,GAAG,EAAE,WAAW;wBAChB,IAAI,EAAE,iBAAiB,CAAC,OAAO;wBAC/B,KAAK,EAAE,SAAS;qBACjB;oBACD;wBACE,GAAG,EAAE,WAAW;wBAChB,IAAI,EAAE,iBAAiB,CAAC,OAAO;wBAC/B,KAAK,EAAE,SAAS;qBACjB;iBACF;aACF,CAAC,CAAC;SACJ;QAAC,OAAO,GAAG,EAAE;YACZ,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;SAClB;IACH,CAAC,CAAC;IAEF,MAAM,kBAAkB,GAAG,CAAC,QAAa,EAAE,EAAE;;QAC3C,IAAI,CAAC,CAAA,MAAA,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,0CAAE,MAAM,CAAA,IAAI,CAAC,CAAA,QAAQ,aAAR,QAAQ,uBAAR,QAAQ,CAAE,MAAM,CAAA;YAAE,OAAO;QAEhE,oDAAoD;QACpD,MAAM,UAAU,GAAG,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,MAAM,CAC7C,CAAC,QAAQ,EAAE,EAAE,CAAC,QAAQ,CAAC,OAAO,CAAC,SAAS,EAAE,GAAG,CAAC,KAAK,CAAC,CACrD,CAAC;QACF,MAAM,WAAW,GAAG,UAAU,CAAC,GAAG,CAAC,CAAC,QAAQ,EAAE,EAAE;;YAC9C,MAAM,IAAI,GAAG,QAAQ,CAAC;YACtB,IAAI,CAAA,IAAI,aAAJ,IAAI,uBAAJ,IAAI,CAAE,UAAU,CAAC,SAAS,EAAE,SAAS,CAAC,MAAI,IAAI,aAAJ,IAAI,uBAAJ,IAAI,CAAE,QAAQ,CAAC,QAAQ,CAAC,CAAA,EAAE;gBACtE,MAAM,QAAQ,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;gBACjC,MAAM,SAAS,GAAG,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;gBAC/C,kCAAkC;gBAClC,MAAM,KAAK,GAAW,QAAQ,CAAC,SAAS,CAAC,OAAO,CAAC,YAAY,EAAE,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC;gBACxE,yDAAyD;gBACzD,MAAM,EAAE,GAAQ,QAAQ,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC;gBACpC,MAAM,GAAG,GAAW,MAAA,QAAQ,CAAC,QAAQ,CAAC,0CAAE,QAAQ,EAAE,CAAC;gBACnD,IAAI,EAAE,aAAF,EAAE,uBAAF,EAAE,CAAE,GAAG;oBAAE,OAAO,EAAE,GAAG,EAAE,EAAE,CAAC,GAAG,EAAE,KAAK,EAAE,GAAG,EAAE,CAAC;aACjD;iBAAM;gBACL,OAAO,KAAK,CAAC;aACd;QACH,CAAC,CAAC,CAAC;QACH,8BAA8B;QAC9B,gBAAgB,CAAC;YACf,GAAG,WAAW;YACd,GAAG,aAAa,CAAC,MAAM,CAAC,CAAC,GAAG,EAAE,EAAE,CAAC,CAAC,WAAW,CAAC,QAAQ,CAAC,GAAG,aAAH,GAAG,uBAAH,GAAG,CAAE,GAAG,CAAC,CAAC;SAClE,CAAC,CAAC;IACL,CAAC,CAAC;IAEF,MAAM,gBAAgB,GAAG,OAAO,aAAP,OAAO,uBAAP,OAAO,CAAE,GAAG,CACnC,CAAC,WAA6D,EAAE,EAAE;QAChE,IAAI,CAAC,CAAA,QAAQ,aAAR,QAAQ,uBAAR,QAAQ,CAAE,MAAM,CAAA;YAAE,OAAO;QAE9B,MAAM,UAAU,GAAU,EAAE,CAAC;QAC7B,IAAI,QAAa,CAAC;QAElB,IAAI,WAAW,CAAC,MAAM,EAAE;YACtB,wCAAwC;YACxC,UAAU,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,uBAAuB,CAAC,CAAC,EAAE,MAAM,EAAE,WAAW,CAAC,MAAM,EAAE,CAAC,EAAG,CAAC,CAAC;SACpF;aAAM,IAAI,WAAW,CAAC,QAAQ,EAAE;YAC/B,2CAA2C;YAC3C,QAAQ,GAAG,QAAQ,CAAC,IAAI,CAAC,CAAC,MAAoB,EAAE,EAAE,CAAC,MAAM,CAAC,GAAG,KAAK,WAAW,CAAC,QAAQ,CAAC,CAAC;YACxF,IAAI,QAAQ,EAAE;gBACZ,yCAAyC;gBACzC,MAAM,KAAK,GAAW,oBAAoB,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC;gBACzD,MAAM,WAAW,GAAG,QAAQ,CAAC,OAAO,CAAC,GAAG,CACtC,CAAC,EAAE,KAAK,EAAE,IAAI,EAAE,GAAG,EAAE,EAAE,EAA4B,EAAE,EAAE,CAAC,CAAC,EAAE,EAAE,EAAE,IAAI,EAAE,CAAC,CACvE,CAAC;gBACF,MAAM,YAAY,GAChB,CAAC,WAAW,IAAI,SAAS,CAAC,KAAK,EAAE,QAAQ,CAAC,OAAO,EAAE,QAAQ,CAAC,gBAAgB,CAAC,CAAC;oBAC9E,CAAC,SAAS,IAAI,SAAS,CAAC,KAAK,EAAE,QAAQ,CAAC,OAAO,EAAE,QAAQ,CAAC,gBAAgB,CAAC,CAAC;oBAC1E,CAAC,CAAC,SAAS;oBACX,CAAC,CAAC,WAAW,CAAC;gBAElB,UAAU,CAAC,IAAI,CACb,CAAC,IAAI,CAAC,SAAS,CAAC,eAAe,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,CAC3C;cAAA,CAAC,IAAI,CAAC,SAAS,CAAC,oBAAoB,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,CAChD;gBAAA,CAAC,OAAO,CACN,SAAS,CAAC,CAAC,YAAY,WAAW,IAAI,SAAS,CAAC,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CACtE,IAAI,CAAC,CAAC,QAAQ,CAAC,GAAG,CAAC,CACnB,IAAI,CAAC,CAAC,WAAW,CAAC,CAClB,KAAK,CAAC,CAAC,KAAK,CAAC,CACb,UAAU,CAAC,kBAAkB,CAC7B,OAAO,CAAC,CAAC;wBACP,cAAc,EAAE,YAAY,CAAC,OAAO;wBACpC,uBAAuB,EAAE,EAAE;wBAC3B,aAAa,EAAE,KAAK;qBACrB,CAAC,CACF,QAAQ,CAAC,CAAC,CAAC,CAAM,EAAE,EAAE,CAAC,WAAW,CAAC,CAAC,CAAC,aAAa,CAAC,CAAC,CACnD,QAAQ,CAAC,CAAC,CAAC,OAAO,CAAC,EAEvB;cAAA,EAAE,IAAI,CACR;YAAA,EAAE,IAAI,CAAC,CACR,CAAC;aACH;SACF;aAAM,IAAI,WAAW,CAAC,YAAY,CAAC,EAAE;YACpC,4CAA4C;YAC5C,QAAQ,GAAG,QAAQ,CAAC,IAAI,CAAC,CAAC,MAAoB,EAAE,EAAE;gBAChD,OAAO,MAAM,CAAC,GAAG,KAAK,WAAW,CAAC,YAAY,CAAC,CAAC;YAClD,CAAC,CAAC,CAAC;YACH,IAAI,QAAQ,EAAE;gBACZ,MAAM,KAAK,GAAW,oBAAoB,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC;gBACzD,MAAM,YAAY,GAChB,CAAC,WAAW,IAAI,SAAS,CAAC,KAAK,EAAE,QAAQ,CAAC,OAAO,EAAE,QAAQ,CAAC,gBAAgB,CAAC,CAAC;oBAC9E,CAAC,SAAS,IAAI,SAAS,CAAC,KAAK,EAAE,QAAQ,CAAC,OAAO,EAAE,QAAQ,CAAC,gBAAgB,CAAC,CAAC;oBAC1E,CAAC,CAAC,SAAS;oBACX,CAAC,CAAC,WAAW,CAAC;gBAElB,UAAU,CAAC,IAAI,CACb,CAAC,IAAI,CAAC,SAAS,CAAC,iBAAiB,CAC/B;cAAA,CAAC,IAAI,CACH,SAAS,CAAC,CAAC,wBAAwB,WAAW,IAAI,SAAS,CAAC,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAClF,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,CAEb;gBAAA,CAAC,KAAK,CACJ,IAAI,CAAC,CAAC,QAAQ,CAAC,GAAG,CAAC,CACnB,SAAS,CAAC,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,EAAE,IACjD,WAAW,IAAI,SAAS,CAAC,KAAK,EAAE,QAAQ,CAAC,OAAO,EAAE,QAAQ,CAAC,gBAAgB,CAAC;wBAC1E,CAAC,CAAC,SAAS;wBACX,CAAC,CAAC,EACN,EAAE,CAAC,CACH,IAAI,CAAC,MAAM,CACX,KAAK,CAAC,CAAC,KAAK,CAAC,CACb,QAAQ,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,WAAW,CAAC,CAAC,CAAC,aAAa,CAAC,CAAC,CAC9C,QAAQ,CAAC,CAAC,CAAC,OAAO,CAAC,EAEvB;cAAA,EAAE,IAAI,CACR;YAAA,EAAE,IAAI,CAAC,CACR,CAAC;aACH;SACF;QACD,OAAO,UAAU,CAAC;IACpB,CAAC,CACF,CAAC;IACF,OAAO,CACL,CAAC,GAAG,CACF,eAAe,CAAC,CAAC,OAAO,CAAC,CACzB,KAAK,CAAC,CAAC,aAAa,CAAC,CACrB,SAAS,CAAC,CAAC,eAAe,CAAC,CAC3B,GAAG,CAAC,CAAC,YAAY,CAAC,CAElB;MAAA,CAAC,KAAK,CAAC,IAAI,CAAC,UAAU,CAAC,iDAAiD,EAAE,KAAK,CAC/E;MAAA,CAAC,KAAK,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,GAAG,SAAS,EAAE,CAAC,CAAC,EAAE,KAAK,CAC/C;MAAA,CAAC,GAAG,CAAC,SAAS,CAAC,OAAO,CACpB;QAAA,CAAC,GAAG,CAAC,SAAS,CAAC,KAAK,CAClB;UAAA,CAAC,GAAG,CAAC,SAAS,CAAC,yCAAyC,CACtD;YAAA,CAAC,GAAG,CACF,SAAS,CAAC,WAAW,CACrB,UAAU,CAAC,OAAO,CAClB,eAAe,CAAC,OAAO,CACvB,8BAA8B,CAAC,CAAC,IAAI,CAAC,CAErC;cAAA,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC,EAAE,CAAC,CACrB;YAAA,EAAE,GAAG,CACP;UAAA,EAAE,GAAG,CACP;QAAA,EAAE,GAAG,CACP;MAAA,EAAE,GAAG,CACP;IAAA,EAAE,GAAG,CAAC,CACP,CAAC;AACJ,CAAC,CAAC;AAEF,MAAM,CAAC,MAAM,OAAO,GAAG,mBAAmB,CAAC;AAC3C,MAAM,CAAC,MAAM,YAAY,GAAG,CAAC,OAAO,EAAE,IAAI,EAAE,OAAO,EAAE,MAAM,CAAC,CAAC;AAE7D,eAAe,UAAU,CAAC","sourcesContent":["import React, { CSSProperties, useCallback, useEffect, useRef, useState } from 'react';\nimport Select2 from 'react-select2-wrapper';\nimport { CapiVariableTypes } from '../../../adaptivity/capi';\nimport {\n  NotificationType,\n  subscribeToNotification,\n} from '../../../apps/delivery/components/NotificationContext';\nimport { contexts } from '../../../types/applicationContext';\nimport { usePrevious } from '../../hooks/usePrevious';\nimport { PartComponentProps } from '../types/parts';\nimport { FIBModel } from './schema';\n// eslint-disable-next-line @typescript-eslint/no-var-requires\nconst css = require('./FillBlanks.css');\n// eslint-disable-next-line @typescript-eslint/no-var-requires\nconst quill = require('./Quill.css');\n// eslint-disable-next-line @typescript-eslint/no-var-requires\nconst select2Styles = require('react-select2-wrapper/css/select2.css');\nexport const parseBool = (val: any) => {\n  // cast value to number\n  const num: number = +val;\n  return !isNaN(num) ? !!num : !!String(val).toLowerCase().replace('false', '');\n};\ninterface SelectOption {\n  key: string;\n  value: string;\n}\n\nconst FillBlanks: React.FC<PartComponentProps<FIBModel>> = (props) => {\n  const id: string = props.id;\n  const [state, setState] = useState<any[]>(Array.isArray(props.state) ? props.state : []);\n  const [model, setModel] = useState<any>(Array.isArray(props.model) ? props.model : []);\n  const [localSnapshot, setLocalSnapshot] = useState<any>({});\n  const [stateChanged, setStateChanged] = useState<boolean>(false);\n  const [mutateState, setMutateState] = useState<any>({});\n  const {\n    x = 0,\n    y = 0,\n    z = 0,\n    width,\n    height,\n    content,\n    elements,\n    alternateCorrectDelimiter,\n  } = model;\n  const fibContainer = useRef(null);\n\n  const [attempted, setAttempted] = useState<boolean>(false);\n  const [contentList, setContentList] = useState<any[]>([]);\n  const [elementValues, setElementValues] = useState<any[]>([]);\n  const [newElement, setNewElement] = useState<SelectOption>();\n\n  useEffect(() => {\n    let pModel;\n    let pState;\n    if (typeof props?.model === 'string') {\n      try {\n        pModel = JSON.parse(props.model);\n        setModel(pModel);\n      } catch (err) {\n        // bad json, what do?\n      }\n    }\n    if (typeof props?.state === 'string') {\n      try {\n        pState = JSON.parse(props.state);\n        setState(pState);\n      } catch (err) {\n        // bad json, what do?\n      }\n    }\n    if (!pModel) {\n      return;\n    }\n    initialize(pModel);\n  }, [props]);\n  const prevElementValues = usePrevious<any[]>(elementValues);\n\n  const [enabled, setEnabled] = useState<boolean>(model?.enabled ? parseBool(model.enabled) : true);\n  const [correct, setCorrect] = useState<boolean>(\n    model?.correct ? parseBool(model.correct) : false,\n  );\n  const [showCorrect, setShowCorrect] = useState<boolean>(\n    model?.showCorrect ? parseBool(model.showCorrect) : false,\n  );\n  const [showHints, setShowHints] = useState<boolean>(\n    model?.showHints ? parseBool(model.showHints) : false,\n  );\n  const [customCss, setCustomCss] = useState<string>(model?.customCss ? model.customCss : '');\n  const [customCssClass, setCustomCssClass] = useState<string>(\n    model?.customCss ? model.customCss : '',\n  );\n  const [ready, setReady] = useState<boolean>(false);\n  const wrapperStyles: CSSProperties = {\n    /* position: 'absolute',\n    top: y,\n    left: x,\n    width,\n    zIndex: z, */\n    height,\n    borderRadius: '5px',\n    fontFamily: 'revert',\n  };\n  useEffect(() => {\n    const styleChanges: any = {};\n    if (width !== undefined) {\n      styleChanges.width = { value: width as number };\n    }\n    if (height != undefined) {\n      styleChanges.height = { value: height as number };\n    }\n    props.onResize({ id: `${id}`, settings: styleChanges });\n  }, [width, height]);\n  const initialize = useCallback(async (pModel) => {\n    const partResponses: any[] = pModel?.elements?.map((el: any) => {\n      const val: string = getElementValueByKey(el.key);\n      const index: number = pModel?.elements?.findIndex((o: any) => o.key === el.key);\n\n      return [\n        {\n          key: `Input ${index + 1}.Value`,\n          type: CapiVariableTypes.STRING,\n          value: val || '',\n        },\n        {\n          key: `Input ${index + 1}.Correct`,\n          type: CapiVariableTypes.BOOLEAN,\n          value: isCorrect(val, el.correct, el.alternateCorrect),\n        },\n        { key: `showCorrect`, type: CapiVariableTypes.BOOLEAN, value: pModel.showCorrect },\n        { key: `showHints`, type: CapiVariableTypes.BOOLEAN, value: pModel.showHints },\n      ];\n    });\n    const elementPartResponses = [].concat(...partResponses);\n    const initResult = await props.onInit({\n      id,\n      responses: [...elementPartResponses],\n    });\n    //customCss comes from model and it was assigning blank value to customCss variable on line #85. Once model is updated\n    //need to assign the update values to the variable\n    if (pModel?.customCss) {\n      setCustomCss(pModel.customCss);\n    }\n    // result of init has a state snapshot with latest (init state applied)\n    const currentStateSnapshot = initResult.snapshot;\n    setLocalSnapshot(currentStateSnapshot);\n    const sEnabled = currentStateSnapshot[`stage.${id}.enabled`];\n    if (sEnabled) {\n      setEnabled(parseBool(sEnabled));\n    }\n\n    const sShowCorrect = currentStateSnapshot[`stage.${id}.showCorrect`];\n    if (sShowCorrect) {\n      setShowCorrect(parseBool(sShowCorrect));\n      pModel.elements.forEach((el: Record<string, any>) => {\n        setTimeout(() => {\n          setNewElement({\n            key: el.key,\n            value: el.correct,\n          });\n        });\n      });\n    }\n\n    const sShowHints = currentStateSnapshot[`stage.${id}.showHints`];\n    if (sShowHints) {\n      setShowHints(parseBool(sShowHints));\n    }\n\n    const sCustomCss = currentStateSnapshot[`stage.${id}.customCss`];\n    if (sCustomCss) {\n      setCustomCss(sCustomCss);\n    }\n\n    const sCustomCssClass = currentStateSnapshot[`stage.${id}.customCssClass`];\n    if (sEnabled) {\n      setCustomCssClass(sCustomCssClass);\n    }\n\n    const sAttempted = currentStateSnapshot[`stage.${id}.attempted`];\n    if (sAttempted) {\n      setAttempted(parseBool(sAttempted));\n    }\n    //Instead of hardcoding REVIEW, we can make it an global interface and then importa that here.\n    if (initResult.context.mode === contexts.REVIEW) {\n      setEnabled(false);\n    }\n    setReady(true);\n  }, []);\n\n  useEffect(() => {\n    if (!ready) {\n      return;\n    }\n    props.onReady({ id, responses: [] });\n  }, [ready]);\n\n  useEffect(() => {\n    //if (elements?.length && state?.length) {\n    if (elements?.length) {\n      getStateSelections(localSnapshot);\n      setContentList(buildContentList);\n    }\n  }, [elements, localSnapshot]);\n\n  useEffect(() => {\n    //if (elements?.length && state?.length) {\n    if (elements?.length && stateChanged) {\n      getStateSelections(mutateState);\n      setContentList(buildContentList);\n      setStateChanged(false);\n    }\n  }, [elements, stateChanged, mutateState]);\n\n  useEffect(() => {\n    // write to state when elementValues changes\n    if (\n      prevElementValues &&\n      ((prevElementValues.length < 1 && elementValues.length > 0) ||\n        // if previous element values contain values and the values don't match currently selected values\n        (prevElementValues.length > 0 &&\n          !elementValues.every((val) => prevElementValues.includes(val))))\n    ) {\n      saveElements();\n      setContentList(buildContentList);\n    }\n  }, [elementValues]);\n\n  useEffect(() => {\n    // update `elementValues` when `newElement` is updated\n    if (newElement) {\n      setElementValues([newElement, ...elementValues.filter((obj) => newElement.key !== obj?.key)]);\n    }\n  }, [newElement]);\n\n  useEffect(() => {\n    if (!props.notify) {\n      return;\n    }\n    const notificationsHandled = [\n      NotificationType.CHECK_STARTED,\n      NotificationType.CHECK_COMPLETE,\n      NotificationType.CONTEXT_CHANGED,\n      NotificationType.STATE_CHANGED,\n    ];\n    const notifications = notificationsHandled.map((notificationType: NotificationType) => {\n      const handler = (payload: any) => {\n        /* console.log(`${notificationType.toString()} notification handled [InputNumber]`, payload); */\n        switch (notificationType) {\n          case NotificationType.CHECK_STARTED:\n            // nothing to do\n            break;\n          case NotificationType.CHECK_COMPLETE:\n            // nothing to do\n            break;\n          case NotificationType.STATE_CHANGED:\n            const { mutateChanges: changes } = payload;\n            setStateChanged(true);\n            setMutateState(changes);\n            const sEnabled = changes[`stage.${id}.enabled`];\n            if (sEnabled) {\n              setEnabled(parseBool(sEnabled));\n            }\n            const sShowCorrect = changes[`stage.${id}.showCorrect`];\n            if (sShowCorrect) {\n              setShowCorrect(parseBool(sShowCorrect));\n              model.elements.forEach((el: Record<string, any>) => {\n                setTimeout(() => {\n                  setNewElement({\n                    key: el.key,\n                    value: el.correct,\n                  });\n                });\n              });\n            }\n            const showHints = changes[`stage.${id}.showHints`];\n            if (showHints) {\n              setShowHints(parseBool(showHints));\n            }\n            const sCustomCss = changes[`stage.${id}.customCss`];\n            if (sCustomCss) {\n              setCustomCss(sCustomCss);\n            }\n            const sCustomCssClass = changes[`stage.${id}.customCssClass`];\n            if (sCustomCssClass) {\n              setCustomCssClass(sCustomCssClass);\n            }\n            const sAttempted = changes[`stage.${id}.attempted`];\n            if (sAttempted) {\n              setAttempted(parseBool(sAttempted));\n            }\n            break;\n          case NotificationType.CONTEXT_CHANGED:\n            {\n              const { initStateFacts: changes } = payload;\n              const sEnabled = changes[`stage.${id}.enabled`];\n              if (sEnabled) {\n                setEnabled(parseBool(sEnabled));\n              }\n              const sShowCorrect = changes[`stage.${id}.showCorrect`];\n              if (sShowCorrect) {\n                setShowCorrect(parseBool(sShowCorrect));\n                model.elements.forEach((el: Record<string, any>) => {\n                  setTimeout(() => {\n                    setNewElement({\n                      key: el.key,\n                      value: el.correct,\n                    });\n                  });\n                });\n              }\n              const showHints = changes[`stage.${id}.showHints`];\n              if (showHints) {\n                setShowHints(parseBool(showHints));\n              }\n              const sCustomCss = changes[`stage.${id}.customCss`];\n              if (sCustomCss) {\n                setCustomCss(sCustomCss);\n              }\n              const sCustomCssClass = changes[`stage.${id}.customCssClass`];\n              if (sCustomCssClass) {\n                setCustomCssClass(sCustomCssClass);\n              }\n              const sAttempted = changes[`stage.${id}.attempted`];\n              if (sAttempted) {\n                setAttempted(parseBool(sAttempted));\n              }\n            }\n            break;\n        }\n      };\n      const unsub = subscribeToNotification(props.notify, notificationType, handler);\n      return unsub;\n    });\n    return () => {\n      notifications.forEach((unsub) => {\n        unsub();\n      });\n    };\n  }, [props.notify, model]);\n\n  const handleInput = (e: any) => {\n    if (!e || typeof e === 'undefined') return;\n    if (prevElementValues && prevElementValues.length > 0) {\n      setAttempted(true);\n    }\n    setNewElement({\n      key: e?.name,\n      value: e?.value,\n    });\n  };\n\n  const getElementValueByKey = (key: string) => {\n    // get value from `elementValues` based on key\n    if (!key || typeof key === 'undefined' || !elementValues?.length) return;\n    const val = elementValues?.find((obj) => obj.key === key);\n    return typeof val !== 'undefined' && val?.value ? val.value.toString() : '';\n  };\n\n  // returns boolean\n  const isCorrect = (submission: string, correct: string, alternateCorrect: string) => {\n    if (!submission || !correct) return false;\n\n    const correctArray: any[] =\n      typeof alternateCorrect !== 'undefined'\n        ? [correct, ...alternateCorrect.split(alternateCorrectDelimiter)]\n        : [correct];\n\n    return correctArray.includes(submission);\n  };\n\n  const saveElements = () => {\n    if (!elements?.length) return;\n\n    const allCorrect = elements.every(\n      (element: { key: string; correct: string; alternateCorrect: string }) => {\n        const elVal = getElementValueByKey(element.key);\n        return isCorrect(elVal, element.correct, element.alternateCorrect);\n      },\n    );\n    setCorrect(allCorrect);\n\n    // set up responses array based on current selections/values of elements\n    const partResponses: any[] = elements.map((el: any) => {\n      const val: string = getElementValueByKey(el.key);\n      const index: number = elements.findIndex((o: any) => o.key === el.key);\n\n      return [\n        {\n          key: `Input ${index + 1}.Value`,\n          type: CapiVariableTypes.STRING,\n          value: val,\n        },\n        {\n          key: `Input ${index + 1}.Correct`,\n          type: CapiVariableTypes.BOOLEAN,\n          value: isCorrect(val, el.correct, el.alternateCorrect),\n        },\n      ];\n    });\n    // save to state\n    try {\n      const elementPartResponses = [].concat(...partResponses);\n\n      props.onSave({\n        id: `${id}`,\n        responses: [\n          ...elementPartResponses,\n          {\n            key: 'enabled',\n            type: CapiVariableTypes.BOOLEAN,\n            value: enabled,\n          },\n          {\n            key: 'showCorrect',\n            type: CapiVariableTypes.BOOLEAN,\n            value: showCorrect,\n          },\n          {\n            key: 'customCss',\n            type: CapiVariableTypes.STRING,\n            value: customCss,\n          },\n          {\n            key: 'customCssClass',\n            type: CapiVariableTypes.STRING,\n            value: customCssClass,\n          },\n          {\n            key: 'correct',\n            type: CapiVariableTypes.BOOLEAN,\n            value: allCorrect,\n          },\n          {\n            key: 'attempted',\n            type: CapiVariableTypes.BOOLEAN,\n            value: attempted,\n          },\n          {\n            key: 'showHints',\n            type: CapiVariableTypes.BOOLEAN,\n            value: showHints,\n          },\n        ],\n      });\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  const getStateSelections = (snapshot: any) => {\n    if (!Object.keys(snapshot)?.length || !elements?.length) return;\n\n    // check for state vars that match elements keys and\n    const interested = Object.keys(snapshot).filter(\n      (stateVar) => stateVar.indexOf(`stage.${id}.`) === 0,\n    );\n    const stateValues = interested.map((stateVar) => {\n      const sKey = stateVar;\n      if (sKey?.startsWith(`stage.${id}.Input `) && sKey?.endsWith('.Value')) {\n        const segments = sKey.split('.');\n        const finalsKey = segments.slice(-2).join('.');\n        // extract index from stateVar key\n        const index: number = parseInt(finalsKey.replace(/[^0-9\\\\.]/g, ''), 10);\n        // get key from `elements` based on 'Input [index].Value'\n        const el: any = elements[index - 1];\n        const val: string = snapshot[stateVar]?.toString();\n        if (el?.key) return { key: el.key, value: val };\n      } else {\n        return false;\n      }\n    });\n    // set new elementValues array\n    setElementValues([\n      ...stateValues,\n      ...elementValues.filter((obj) => !stateValues.includes(obj?.key)),\n    ]);\n  };\n\n  const buildContentList = content?.map(\n    (contentItem: { [x: string]: any; insert: any; dropdown: any }) => {\n      if (!elements?.length) return;\n\n      const insertList: any[] = [];\n      let insertEl: any;\n\n      if (contentItem.insert) {\n        // contentItem.insert is always a string\n        insertList.push(<span dangerouslySetInnerHTML={{ __html: contentItem.insert }} />);\n      } else if (contentItem.dropdown) {\n        // get correlating dropdown from `elements`\n        insertEl = elements.find((elItem: { key: any }) => elItem.key === contentItem.dropdown);\n        if (insertEl) {\n          // build list of options for react-select\n          const elVal: string = getElementValueByKey(insertEl.key);\n          const optionsList = insertEl.options.map(\n            ({ value: text, key: id }: { value: any; key: any }) => ({ id, text }),\n          );\n          const answerStatus: string =\n            (showCorrect && isCorrect(elVal, insertEl.correct, insertEl.alternateCorrect)) ||\n            (showHints && isCorrect(elVal, insertEl.correct, insertEl.alternateCorrect))\n              ? 'correct'\n              : 'incorrect';\n\n          insertList.push(\n            <span className=\"dropdown-blot\" tabIndex={-1}>\n              <span className=\"dropdown-container\" tabIndex={-1}>\n                <Select2\n                  className={`dropdown ${showCorrect || showHints ? answerStatus : ''}`}\n                  name={insertEl.key}\n                  data={optionsList}\n                  value={elVal}\n                  aria-label=\"Make a selection\"\n                  options={{\n                    dropdownParent: fibContainer.current,\n                    minimumResultsForSearch: 10,\n                    selectOnClose: false,\n                  }}\n                  onChange={(e: any) => handleInput(e.currentTarget)}\n                  disabled={!enabled}\n                />\n              </span>\n            </span>,\n          );\n        }\n      } else if (contentItem['text-input']) {\n        // get correlating inputText from `elements`\n        insertEl = elements.find((elItem: { key: any }) => {\n          return elItem.key === contentItem['text-input'];\n        });\n        if (insertEl) {\n          const elVal: string = getElementValueByKey(insertEl.key);\n          const answerStatus: string =\n            (showCorrect && isCorrect(elVal, insertEl.correct, insertEl.alternateCorrect)) ||\n            (showHints && isCorrect(elVal, insertEl.correct, insertEl.alternateCorrect))\n              ? 'correct'\n              : 'incorrect';\n\n          insertList.push(\n            <span className=\"text-input-blot\">\n              <span\n                className={`text-input-container ${showCorrect || showHints ? answerStatus : ''}`}\n                tabIndex={-1}\n              >\n                <input\n                  name={insertEl.key}\n                  className={`text-input ${!enabled ? 'disabled' : ''} ${\n                    showCorrect && isCorrect(elVal, insertEl.correct, insertEl.alternateCorrect)\n                      ? 'correct'\n                      : ''\n                  }`}\n                  type=\"text\"\n                  value={elVal}\n                  onChange={(e) => handleInput(e.currentTarget)}\n                  disabled={!enabled}\n                />\n              </span>\n            </span>,\n          );\n        }\n      }\n      return insertList;\n    },\n  );\n  return (\n    <div\n      data-janus-type={tagName}\n      style={wrapperStyles}\n      className={`fib-container`}\n      ref={fibContainer}\n    >\n      <style type=\"text/css\">@import url(/css/janus_fill_blanks_delivery.css);</style>\n      <style type=\"text/css\">{`${customCss}`};</style>\n      <div className=\"scene\">\n        <div className=\"app\">\n          <div className=\"editor ql-container ql-snow ql-disabled\">\n            <div\n              className=\"ql-editor\"\n              data-gramm=\"false\"\n              contentEditable=\"false\"\n              suppressContentEditableWarning={true}\n            >\n              <p>{contentList}</p>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport const tagName = 'janus-fill-blanks';\nexport const watchedProps = ['model', 'id', 'state', 'type'];\n\nexport default FillBlanks;\n"]}