{"version":3,"file":"FIBAuthor.jsx","sourceRoot":"","sources":["../../../../../src/components/parts/janus-fill-blanks/FIBAuthor.tsx"],"names":[],"mappings":"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","sourcesContent":["import { AuthorPartComponentProps } from 'components/parts/types/parts';\nimport React, { CSSProperties, useEffect } from 'react';\nimport Select2 from 'react-select2-wrapper';\nimport { FIBModel } from './schema';\n\nconst FIBAuthor: React.FC<AuthorPartComponentProps<FIBModel>> = (props) => {\n  const { model } = props;\n\n  const {\n    x = 0,\n    y = 0,\n    z = 0,\n    width,\n    height,\n    content,\n    elements,\n    alternateCorrectDelimiter,\n    customCss,\n  } = model;\n  const styles: CSSProperties = {\n    borderRadius: '5px',\n    fontFamily: 'revert',\n  };\n\n  useEffect(() => {\n    // all activities *must* emit onReady\n    props.onReady({ id: `${props.id}` });\n  }, []);\n\n  const contentList = content?.map(\n    (contentItem: { [x: string]: any; insert: any; dropdown: any }) => {\n      if (!elements?.length) return;\n\n      const insertList: any[] = [];\n      let insertEl: any;\n\n      if (contentItem.insert) {\n        // contentItem.insert is always a string\n        insertList.push(<span dangerouslySetInnerHTML={{ __html: contentItem.insert }} />);\n      } else if (contentItem.dropdown) {\n        // get correlating dropdown from `elements`\n        insertEl = elements.find((elItem: { key: any }) => elItem.key === contentItem.dropdown);\n        if (insertEl) {\n          // build list of options for react-select\n          const optionsList = insertEl.options.map(\n            ({ value: text, key: id }: { value: any; key: any }) => ({ id, text }),\n          );\n\n          insertList.push(\n            <span className=\"dropdown-blot\" tabIndex={-1}>\n              <span className=\"dropdown-container\" tabIndex={-1}>\n                <Select2\n                  className={`dropdown incorrect`}\n                  name={insertEl.key}\n                  data={optionsList}\n                  aria-label=\"Make a selection\"\n                  options={{\n                    minimumResultsForSearch: 10,\n                    selectOnClose: false,\n                  }}\n                  disabled={true}\n                />\n              </span>\n            </span>,\n          );\n        }\n      } else if (contentItem['text-input']) {\n        // get correlating inputText from `elements`\n        insertEl = elements.find((elItem: { key: any }) => {\n          return elItem.key === contentItem['text-input'];\n        });\n        if (insertEl) {\n          const answerStatus = 'incorrect';\n\n          insertList.push(\n            <span className=\"text-input-blot\">\n              <span className={`text-input-container ${answerStatus}`} tabIndex={-1}>\n                <input\n                  name={insertEl.key}\n                  className={`text-input disabled`}\n                  type=\"text\"\n                  disabled={true}\n                />\n              </span>\n            </span>,\n          );\n        }\n      }\n      return insertList;\n    },\n  );\n  return (\n    <div data-janus-type={tagName} style={styles} className={`fib-container`}>\n      <style type=\"text/css\">@import url(/css/janus_fill_blanks_delivery.css);</style>\n      <style type=\"text/css\">{`${customCss}`};</style>\n      <div className=\"scene\">\n        <div className=\"app\">\n          <div className=\"editor ql-container ql-snow ql-disabled\">\n            <div\n              className=\"ql-editor\"\n              data-gramm=\"false\"\n              contentEditable=\"false\"\n              suppressContentEditableWarning={true}\n            >\n              <p>{contentList}</p>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport const tagName = 'janus-fill-blanks';\n\nexport default FIBAuthor;\n"]}