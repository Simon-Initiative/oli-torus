{"version":3,"file":"Slider.jsx","sourceRoot":"","sources":["../../../../../src/components/parts/janus-slider/Slider.tsx"],"names":[],"mappings":"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","sourcesContent":["/* eslint-disable react/prop-types */\nimport React, { ChangeEvent, CSSProperties, useCallback, useEffect, useRef, useState } from 'react';\nimport { CapiVariableTypes } from '../../../adaptivity/capi';\nimport {\n  NotificationType,\n  subscribeToNotification,\n} from '../../../apps/delivery/components/NotificationContext';\nimport { contexts } from '../../../types/applicationContext';\nimport { PartComponentProps } from '../types/parts';\nimport { SliderModel } from './schema';\nimport './Slider.scss';\n\nconst Slider: React.FC<PartComponentProps<SliderModel>> = (props) => {\n  const [state, setState] = useState<unknown>([]);\n  const [model, setModel] = useState<Partial<SliderModel>>({});\n  const [ready, setReady] = useState<boolean>(false);\n\n  const id: string = props.id;\n  const [inputInnerWidth, setInputInnerWidth] = useState<number>(0);\n  const [spanInnerWidth, setSpanInnerWidth] = useState<number>(0);\n\n  const [sliderValue, setSliderValue] = useState(0);\n  const [isSliderEnabled, setIsSliderEnabled] = useState(true);\n  const [cssClass, setCssClass] = useState('');\n  const initialize = useCallback(async (pModel) => {\n    // set defaults\n    const dEnabled = typeof pModel.enabled === 'boolean' ? pModel.enabled : isSliderEnabled;\n    setIsSliderEnabled(dEnabled);\n\n    const dCssClass = pModel.customCssClass || '';\n    setCssClass(dCssClass);\n\n    const dMin = pModel.minimum || 0;\n    const dValue = pModel.value || dMin;\n    setSliderValue(dValue);\n\n    const initResult = await props.onInit({\n      id,\n      responses: [\n        {\n          key: 'enabled',\n          type: CapiVariableTypes.BOOLEAN,\n          value: dEnabled,\n        },\n        {\n          key: 'customCssClass',\n          type: CapiVariableTypes.STRING,\n          value: dCssClass,\n        },\n        {\n          key: 'value',\n          type: CapiVariableTypes.NUMBER,\n          value: dValue,\n        },\n        {\n          key: 'userModified',\n          type: CapiVariableTypes.BOOLEAN,\n          value: false,\n        },\n      ],\n    });\n\n    // result of init has a state snapshot with latest (init state applied)\n    const currentStateSnapshot = initResult.snapshot;\n    const sEnabled = currentStateSnapshot[`stage.${id}.enabled`];\n    if (sEnabled !== undefined) {\n      setIsSliderEnabled(sEnabled);\n    }\n    const sValue = currentStateSnapshot[`stage.${id}.value`];\n    if (sValue !== undefined) {\n      setSliderValue(sValue);\n    }\n    const sCssClass = currentStateSnapshot[`stage.${id}.customCssClass`];\n    if (sCssClass !== undefined) {\n      setCssClass(sCssClass);\n    }\n    //Instead of hardcoding REVIEW, we can make it an global interface and then importa that here.\n    if (initResult.context.mode === contexts.REVIEW) {\n      setIsSliderEnabled(false);\n    }\n    setReady(true);\n  }, []);\n\n  useEffect(() => {\n    let pModel;\n    let pState;\n    if (typeof props?.model === 'string') {\n      try {\n        pModel = JSON.parse(props.model);\n        setModel(pModel);\n      } catch (err) {\n        // bad json, what do?\n      }\n    }\n    if (typeof props?.state === 'string') {\n      try {\n        pState = JSON.parse(props.state);\n        setState(pState);\n      } catch (err) {\n        // bad json, what do?\n      }\n    }\n    if (!pModel) {\n      return;\n    }\n    initialize(pModel);\n  }, [props]);\n\n  useEffect(() => {\n    if (!ready) {\n      return;\n    }\n    props.onReady({ id, responses: [] });\n  }, [ready]);\n\n  useEffect(() => {\n    if (!props.notify) {\n      return;\n    }\n    const notificationsHandled = [\n      NotificationType.CHECK_STARTED,\n      NotificationType.CHECK_COMPLETE,\n      NotificationType.CONTEXT_CHANGED,\n      NotificationType.STATE_CHANGED,\n    ];\n    const notifications = notificationsHandled.map((notificationType: NotificationType) => {\n      const handler = (payload: any) => {\n        /* console.log(`${notificationType.toString()} notification handled [Slider]`, payload); */\n        switch (notificationType) {\n          case NotificationType.CHECK_STARTED:\n            // nothing to do\n            break;\n          case NotificationType.CHECK_COMPLETE:\n            // nothing to do\n            break;\n          case NotificationType.STATE_CHANGED:\n            {\n              const { mutateChanges: changes } = payload;\n              const sEnabled = changes[`stage.${id}.enabled`];\n              if (sEnabled !== undefined) {\n                setIsSliderEnabled(sEnabled);\n              }\n              const sValue = changes[`stage.${id}.value`];\n              if (sValue !== undefined) {\n                setSliderValue(sValue);\n              }\n              const sCssClass = changes[`stage.${id}.customCssClass`];\n              if (sCssClass !== undefined) {\n                setCssClass(sCssClass);\n              }\n            }\n            break;\n          case NotificationType.CONTEXT_CHANGED:\n            {\n              const { initStateFacts: changes } = payload;\n              const sEnabled = changes[`stage.${id}.enabled`];\n              if (sEnabled !== undefined) {\n                setIsSliderEnabled(sEnabled);\n              }\n              const sValue = changes[`stage.${id}.value`];\n              if (sValue !== undefined) {\n                setSliderValue(sValue);\n              }\n              const sCssClass = changes[`stage.${id}.customCssClass`];\n              if (sCssClass !== undefined) {\n                setCssClass(sCssClass);\n              }\n            }\n            break;\n        }\n      };\n      const unsub = subscribeToNotification(props.notify, notificationType, handler);\n      return unsub;\n    });\n    return () => {\n      notifications.forEach((unsub) => {\n        unsub();\n      });\n    };\n  }, [props.notify]);\n\n  const {\n    x,\n    y,\n    z,\n    width,\n    height,\n    customCssClass,\n    label,\n    maximum = 1,\n    minimum = 0,\n    snapInterval,\n    showDataTip,\n    showValueLabels,\n    showLabel,\n    showTicks,\n    invertScale,\n  } = model;\n\n  useEffect(() => {\n    const styleChanges: any = {};\n    if (width !== undefined) {\n      styleChanges.width = { value: width as number };\n    }\n    if (height != undefined) {\n      styleChanges.height = { value: height as number };\n    }\n\n    props.onResize({ id: `${id}`, settings: styleChanges });\n  }, [width, height]);\n  const styles: CSSProperties = {\n    width: '100%',\n    flexDirection: model.showLabel ? 'column' : 'row',\n  };\n  const inputStyles: CSSProperties = {\n    width: '100%',\n    height: `3px`,\n    zIndex: z,\n    direction: invertScale ? 'rtl' : 'ltr',\n  };\n  const divStyles: CSSProperties = {\n    width: '100%',\n    display: `flex`,\n    flexDirection: 'row',\n    alignItems: 'center',\n  };\n  const inputWidth = inputInnerWidth;\n  const thumbWidth = spanInnerWidth;\n  const thumbHalfWidth = thumbWidth / 2;\n  const thumbPosition =\n    ((Number(sliderValue) - minimum) / (maximum - minimum)) *\n    (inputWidth - thumbWidth + thumbHalfWidth);\n  const thumbMargin = thumbHalfWidth * -1 + thumbHalfWidth / 2;\n  const getTickOptions = () => {\n    if (snapInterval) {\n      const options = [];\n      const numberOfTicks = (maximum - minimum) / snapInterval;\n      for (let i = 0; i <= numberOfTicks; i++) {\n        options.push(<option value={i * snapInterval}></option>);\n      }\n      return options;\n    }\n  };\n  const saveState = ({ sliderVal, userModified }: { sliderVal: number; userModified: boolean }) => {\n    props.onSave({\n      id: `${id}`,\n      responses: [\n        {\n          key: `value`,\n          type: CapiVariableTypes.NUMBER,\n          value: sliderVal,\n        },\n        {\n          key: `userModified`,\n          type: CapiVariableTypes.BOOLEAN,\n          value: userModified,\n        },\n      ],\n    });\n  };\n\n  const handleSliderChange = (e: ChangeEvent<HTMLInputElement>) => {\n    const sliderVal = parseFloat(e.target.value);\n    setSliderValue(sliderVal);\n    saveState({ sliderVal, userModified: true });\n  };\n  const inputTargetRef = useRef<HTMLInputElement>(null);\n  useEffect(() => {\n    if (inputTargetRef && inputTargetRef.current) {\n      setInputInnerWidth(inputTargetRef?.current?.offsetWidth);\n    }\n  });\n\n  const divTargetRef = useRef<HTMLSpanElement>(null);\n  useEffect(() => {\n    if (divTargetRef && divTargetRef.current) {\n      setSpanInnerWidth(divTargetRef?.current?.offsetWidth);\n    }\n  });\n\n  const internalId = `${id}__slider`;\n\n  return ready ? (\n    <div data-janus-type={tagName} style={styles} className={`slider`}>\n      {showLabel && (\n        <label className=\"input-label\" htmlFor={internalId}>\n          {label}\n        </label>\n      )}\n      <div className=\"sliderInner\">\n        {showValueLabels && <label htmlFor={internalId}>{invertScale ? maximum : minimum}</label>}\n        <div className=\"rangeWrap\">\n          <div style={divStyles}>\n            {showDataTip && (\n              <div className=\"rangeValue\" id={`rangeV-${internalId}`}>\n                <span\n                  ref={divTargetRef}\n                  id={`slider-thumb-${internalId}`}\n                  style={{\n                    left: `${invertScale ? undefined : thumbPosition}px`,\n                    marginLeft: `${invertScale ? undefined : thumbMargin}px`,\n                    right: `${invertScale ? thumbPosition : undefined}px`,\n                    marginRight: `${invertScale ? thumbMargin : undefined}px`,\n                  }}\n                >\n                  {sliderValue}\n                </span>\n              </div>\n            )}\n            <input\n              ref={inputTargetRef}\n              disabled={!isSliderEnabled}\n              style={inputStyles}\n              min={minimum}\n              max={maximum}\n              type={'range'}\n              value={sliderValue}\n              step={snapInterval}\n              id={internalId}\n              onChange={handleSliderChange}\n              list={showTicks ? `datalist${internalId}` : ''}\n            />\n            {showTicks && (\n              <datalist style={{ display: 'none' }} id={`datalist${internalId}`}>\n                {getTickOptions()}\n              </datalist>\n            )}\n          </div>\n        </div>\n        {showValueLabels && <label htmlFor={internalId}>{invertScale ? minimum : maximum}</label>}\n      </div>\n    </div>\n  ) : null;\n};\n\nexport const tagName = 'janus-slider';\n\nexport default Slider;\n"]}