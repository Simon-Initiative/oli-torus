{"version":3,"file":"Dropdown.jsx","sourceRoot":"","sources":["../../../../../src/components/parts/janus-dropdown/Dropdown.tsx"],"names":[],"mappings":";;;;;;;;;AAAA,qCAAqC;AACrC,OAAO,KAAK,EAAE,EAAiB,WAAW,EAAE,SAAS,EAAE,QAAQ,EAAE,MAAM,OAAO,CAAC;AAC/E,OAAO,EAAE,iBAAiB,EAAE,MAAM,0BAA0B,CAAC;AAC7D,OAAO,EACL,gBAAgB,EAChB,uBAAuB,GACxB,MAAM,uDAAuD,CAAC;AAC/D,OAAO,EAAE,QAAQ,EAAE,MAAM,mCAAmC,CAAC;AAC7D,OAAO,EAAE,SAAS,EAAE,MAAM,uBAAuB,CAAC;AAIlD,MAAM,QAAQ,GAAgD,CAAC,KAAK,EAAE,EAAE;IACtE,MAAM,CAAC,KAAK,EAAE,QAAQ,CAAC,GAAG,QAAQ,CAAQ,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;IACzF,MAAM,CAAC,KAAK,EAAE,QAAQ,CAAC,GAAG,QAAQ,CAAM,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;IACvF,MAAM,CAAC,KAAK,EAAE,QAAQ,CAAC,GAAG,QAAQ,CAAU,KAAK,CAAC,CAAC;IACnD,MAAM,EAAE,GAAW,KAAK,CAAC,EAAE,CAAC;IAE5B,MAAM,CAAC,OAAO,EAAE,UAAU,CAAC,GAAG,QAAQ,CAAC,IAAI,CAAC,CAAC;IAC7C,MAAM,CAAC,aAAa,EAAE,gBAAgB,CAAC,GAAG,QAAQ,CAAS,CAAC,CAAC,CAAC,CAAC;IAC/D,MAAM,CAAC,YAAY,EAAE,eAAe,CAAC,GAAG,QAAQ,CAAS,EAAE,CAAC,CAAC;IAC7D,MAAM,CAAC,QAAQ,EAAE,WAAW,CAAC,GAAG,QAAQ,CAAC,EAAE,CAAC,CAAC;IAE7C,MAAM,UAAU,GAAG,WAAW,CAAC,CAAO,MAAM,EAAE,EAAE;;QAC9C,eAAe;QACf,MAAM,QAAQ,GAAG,OAAO,MAAM,CAAC,OAAO,KAAK,SAAS,CAAC,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC,OAAO,CAAC;QAChF,UAAU,CAAC,QAAQ,CAAC,CAAC;QAErB,MAAM,SAAS,GAAG,MAAM,CAAC,cAAc,IAAI,EAAE,CAAC;QAC9C,WAAW,CAAC,SAAS,CAAC,CAAC;QAEvB,MAAM,UAAU,GAAG,MAAM,KAAK,CAAC,MAAM,CAAC;YACpC,EAAE;YACF,SAAS,EAAE;gBACT;oBACE,GAAG,EAAE,SAAS;oBACd,IAAI,EAAE,iBAAiB,CAAC,OAAO;oBAC/B,KAAK,EAAE,QAAQ;iBAChB;gBACD;oBACE,GAAG,EAAE,gBAAgB;oBACrB,IAAI,EAAE,iBAAiB,CAAC,MAAM;oBAC9B,KAAK,EAAE,SAAS;iBACjB;gBACD;oBACE,EAAE,EAAE,eAAe;oBACnB,GAAG,EAAE,eAAe;oBACpB,IAAI,EAAE,iBAAiB,CAAC,MAAM;oBAC9B,KAAK,EAAE,aAAa;iBACrB;gBACD;oBACE,EAAE,EAAE,cAAc;oBAClB,GAAG,EAAE,cAAc;oBACnB,IAAI,EAAE,iBAAiB,CAAC,MAAM;oBAC9B,KAAK,EAAE,YAAY;iBACpB;gBACD;oBACE,EAAE,EAAE,OAAO;oBACX,GAAG,EAAE,OAAO;oBACZ,IAAI,EAAE,iBAAiB,CAAC,MAAM;oBAC9B,KAAK,EAAE,MAAM;iBACd;aACF;SACF,CAAC,CAAC;QAEH,uEAAuE;QACvE,MAAM,oBAAoB,GAAG,UAAU,CAAC,QAAQ,CAAC;QAEjD,MAAM,QAAQ,GAAG,oBAAoB,CAAC,SAAS,EAAE,UAAU,CAAC,CAAC;QAC7D,IAAI,QAAQ,KAAK,SAAS,EAAE;YAC1B,UAAU,CAAC,QAAQ,CAAC,CAAC;SACtB;QAED,MAAM,SAAS,GAAG,oBAAoB,CAAC,SAAS,EAAE,iBAAiB,CAAC,CAAC;QACrE,IAAI,SAAS,KAAK,SAAS,EAAE;YAC3B,WAAW,CAAC,SAAS,CAAC,CAAC;SACxB;QAED,iBAAiB;QAEjB,MAAM,cAAc,GAAG,oBAAoB,CAAC,SAAS,EAAE,gBAAgB,CAAC,CAAC;QACzE,IAAI,cAAc,KAAK,SAAS,IAAI,MAAM,CAAC,cAAc,CAAC,KAAK,CAAC,CAAC,EAAE;YACjE,MAAM,cAAc,GAAG,MAAM,CAAC,cAAc,CAAC,CAAC;YAC9C,gBAAgB,CAAC,cAAc,CAAC,CAAC;YACjC,IAAI,MAAM,CAAC,YAAY,EAAE;gBACvB,eAAe,CAAC,MAAM,CAAC,YAAY,CAAC,cAAc,GAAG,CAAC,CAAC,CAAC,CAAC;gBACzD,UAAU,CAAC,GAAG,EAAE;oBACd,SAAS,CAAC;wBACR,aAAa,EAAE,cAAc;wBAC7B,YAAY,EAAE,MAAM,CAAC,YAAY,CAAC,cAAc,GAAG,CAAC,CAAC;wBACrD,KAAK,EAAE,MAAM,CAAC,YAAY,CAAC,cAAc,GAAG,CAAC,CAAC;wBAC9C,OAAO;qBACR,CAAC,CAAC;gBACL,CAAC,CAAC,CAAC;aACJ;SACF;QAED,MAAM,aAAa,GAAG,oBAAoB,CAAC,SAAS,EAAE,eAAe,CAAC,CAAC;QACvE,IAAI,aAAa,KAAK,SAAS,IAAI,aAAa,KAAK,EAAE,EAAE;YACvD,MAAM,cAAc,GAAW,MAAA,MAAM,CAAC,YAAY,0CAAE,SAAS,CAAC,CAAC,GAAW,EAAE,EAAE,CAC5E,aAAa,CAAC,QAAQ,CAAC,GAAG,CAAC,CAC5B,CAAC;YACF,eAAe,CAAC,aAAa,CAAC,CAAC;YAC/B,gBAAgB,CAAC,cAAc,GAAG,CAAC,CAAC,CAAC;YACrC,UAAU,CAAC,GAAG,EAAE;gBACd,SAAS,CAAC;oBACR,aAAa,EAAE,cAAc,GAAG,CAAC;oBACjC,YAAY,EAAE,aAAa;oBAC3B,KAAK,EAAE,aAAa;oBACpB,OAAO;iBACR,CAAC,CAAC;YACL,CAAC,CAAC,CAAC;SACJ;QACD,8FAA8F;QAC9F,IAAI,UAAU,CAAC,OAAO,CAAC,IAAI,KAAK,QAAQ,CAAC,MAAM,EAAE;YAC/C,UAAU,CAAC,KAAK,CAAC,CAAC;SACnB;QACD,QAAQ,CAAC,IAAI,CAAC,CAAC;IACjB,CAAC,CAAA,EAAE,EAAE,CAAC,CAAC;IAEP,SAAS,CAAC,GAAG,EAAE;QACb,IAAI,MAAM,CAAC;QACX,IAAI,MAAM,CAAC;QACX,IAAI,OAAO,CAAA,KAAK,aAAL,KAAK,uBAAL,KAAK,CAAE,KAAK,CAAA,KAAK,QAAQ,EAAE;YACpC,IAAI;gBACF,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;gBACjC,QAAQ,CAAC,MAAM,CAAC,CAAC;aAClB;YAAC,OAAO,GAAG,EAAE;gBACZ,qBAAqB;aACtB;SACF;QACD,IAAI,OAAO,CAAA,KAAK,aAAL,KAAK,uBAAL,KAAK,CAAE,KAAK,CAAA,KAAK,QAAQ,EAAE;YACpC,IAAI;gBACF,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;gBACjC,QAAQ,CAAC,MAAM,CAAC,CAAC;aAClB;YAAC,OAAO,GAAG,EAAE;gBACZ,qBAAqB;aACtB;SACF;QACD,IAAI,CAAC,MAAM,EAAE;YACX,OAAO;SACR;QACD,UAAU,CAAC,MAAM,CAAC,CAAC;IACrB,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC;IAEZ,SAAS,CAAC,GAAG,EAAE;QACb,IAAI,CAAC,KAAK,EAAE;YACV,OAAO;SACR;QACD,KAAK,CAAC,OAAO,CAAC,EAAE,EAAE,EAAE,SAAS,EAAE,EAAE,EAAE,CAAC,CAAC;IACvC,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC;IAEZ,MAAM,EACJ,CAAC,EACD,CAAC,EACD,CAAC,EACD,KAAK,EACL,MAAM,EACN,cAAc,EACd,SAAS,EACT,KAAK,EACL,MAAM,EACN,YAAY,EACZ,OAAO,GACR,GAAG,KAAK,CAAC;IAEV,SAAS,CAAC,GAAG,EAAE;QACb,MAAM,YAAY,GAAQ,EAAE,CAAC;QAC7B,IAAI,KAAK,KAAK,SAAS,EAAE;YACvB,YAAY,CAAC,KAAK,GAAG,EAAE,KAAK,EAAE,KAAe,EAAE,CAAC;SACjD;QACD,IAAI,MAAM,IAAI,SAAS,EAAE;YACvB,YAAY,CAAC,MAAM,GAAG,EAAE,KAAK,EAAE,MAAgB,EAAE,CAAC;SACnD;QAED,KAAK,CAAC,QAAQ,CAAC,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,QAAQ,EAAE,YAAY,EAAE,CAAC,CAAC;IAC1D,CAAC,EAAE,CAAC,KAAK,EAAE,MAAM,CAAC,CAAC,CAAC;IAEpB,MAAM,uBAAuB,GAAkB;QAC7C,KAAK;KACN,CAAC;IAEF,MAAM,aAAa,GAAkB;QACnC,KAAK,EAAE,MAAM;QACb,MAAM,EAAE,MAAM;KACf,CAAC;IACF,IAAI,CAAC,CAAC,SAAS,IAAI,KAAK,CAAC,EAAE;QACzB,aAAa,CAAC,KAAK,GAAG,GAAG,MAAM,CAAC,KAAK,CAAC,GAAG,EAAE,IAAI,CAAC;KACjD;IACD,IAAI,SAAS,IAAI,KAAK,IAAI,KAAK,EAAE;QAC/B,iCAAiC;QACjC,0FAA0F;QAC1F,aAAa,CAAC,QAAQ,GAAG,GAAG,MAAM,CAAC,KAAK,GAAG,IAAI,CAAC,IAAI,CAAC;KACtD;IAED,SAAS,CAAC,GAAG,EAAE;QACb,iFAAiF;QACjF,2BAA2B;IAC7B,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC;IAEZ,MAAM,SAAS,GAAG,CAAC,EACjB,aAAa,EACb,YAAY,EACZ,KAAK,EACL,OAAO,GAMR,EAAE,EAAE;QACH,KAAK,CAAC,MAAM,CAAC;YACX,EAAE,EAAE,GAAG,EAAE,EAAE;YACX,SAAS,EAAE;gBACT;oBACE,GAAG,EAAE,SAAS;oBACd,IAAI,EAAE,iBAAiB,CAAC,OAAO;oBAC/B,KAAK,EAAE,OAAO;iBACf;gBACD;oBACE,GAAG,EAAE,eAAe;oBACpB,IAAI,EAAE,iBAAiB,CAAC,MAAM;oBAC9B,KAAK,EAAE,aAAa;iBACrB;gBACD;oBACE,GAAG,EAAE,cAAc;oBACnB,IAAI,EAAE,iBAAiB,CAAC,MAAM;oBAC9B,KAAK,EAAE,YAAY;iBACpB;gBACD;oBACE,GAAG,EAAE,OAAO;oBACZ,IAAI,EAAE,iBAAiB,CAAC,MAAM;oBAC9B,KAAK,EAAE,KAAK;iBACb;aACF;SACF,CAAC,CAAC;IACL,CAAC,CAAC;IAEF,MAAM,YAAY,GAAG,CAAC,KAAU,EAAE,EAAE;QAClC,MAAM,GAAG,GAAG,MAAM,CAAC,KAAK,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;QACvC,uBAAuB;QACvB,gBAAgB,CAAC,GAAG,CAAC,CAAC;QACtB,SAAS,CAAC;YACR,aAAa,EAAE,GAAG;YAClB,YAAY,EAAE,KAAK,CAAC,MAAM,CAAC,OAAO,CAAC,KAAK,CAAC,MAAM,CAAC,aAAa,CAAC,CAAC,IAAI;YACnE,KAAK,EAAE,KAAK,CAAC,MAAM,CAAC,OAAO,CAAC,KAAK,CAAC,MAAM,CAAC,aAAa,CAAC,CAAC,IAAI;YAC5D,OAAO;SACR,CAAC,CAAC;IACL,CAAC,CAAC;IAEF,SAAS,CAAC,GAAG,EAAE;QACb,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE;YACjB,OAAO;SACR;QACD,MAAM,oBAAoB,GAAG;YAC3B,gBAAgB,CAAC,aAAa;YAC9B,gBAAgB,CAAC,cAAc;YAC/B,gBAAgB,CAAC,eAAe;YAChC,gBAAgB,CAAC,aAAa;SAC/B,CAAC;QACF,MAAM,aAAa,GAAG,oBAAoB,CAAC,GAAG,CAAC,CAAC,gBAAkC,EAAE,EAAE;YACpF,MAAM,OAAO,GAAG,CAAC,OAAY,EAAE,EAAE;gBAC/B,6FAA6F;gBAC7F,QAAQ,gBAAgB,EAAE;oBACxB,KAAK,gBAAgB,CAAC,aAAa;wBACjC,gBAAgB;wBAChB,MAAM;oBACR,KAAK,gBAAgB,CAAC,cAAc;wBAClC,gBAAgB;wBAChB,6BAA6B;wBAC7B,MAAM;oBACR,KAAK,gBAAgB,CAAC,aAAa;wBACjC;4BACE,MAAM,EAAE,aAAa,EAAE,OAAO,EAAE,GAAG,OAAO,CAAC;4BAE3C,MAAM,cAAc,GAAG,OAAO,CAAC,SAAS,EAAE,gBAAgB,CAAC,CAAC;4BAC5D,IAAI,cAAc,KAAK,SAAS,EAAE;gCAChC,MAAM,cAAc,GAAG,MAAM,CAAC,cAAc,CAAC,CAAC;gCAC9C,IAAI,aAAa,KAAK,cAAc,EAAE;oCACpC,gBAAgB,CAAC,cAAc,CAAC,CAAC;oCACjC,eAAe,CAAC,YAAY,CAAC,cAAc,GAAG,CAAC,CAAC,CAAC,CAAC;oCAClD,UAAU,CAAC,GAAG,EAAE;wCACd,SAAS,CAAC;4CACR,aAAa,EAAE,cAAc;4CAC7B,YAAY,EAAE,YAAY,CAAC,cAAc,GAAG,CAAC,CAAC;4CAC9C,KAAK,EAAE,YAAY,CAAC,cAAc,GAAG,CAAC,CAAC;4CACvC,OAAO;yCACR,CAAC,CAAC;oCACL,CAAC,CAAC,CAAC;iCACJ;6BACF;4BAED,MAAM,aAAa,GAAG,OAAO,CAAC,SAAS,EAAE,eAAe,CAAC,CAAC;4BAC1D,IAAI,aAAa,KAAK,SAAS,EAAE;gCAC/B,IAAI,YAAY,KAAK,aAAa,EAAE;oCAClC,MAAM,cAAc,GAAW,YAAY,CAAC,SAAS,CAAC,CAAC,GAAQ,EAAE,EAAE,CACjE,aAAa,CAAC,QAAQ,CAAC,GAAG,CAAC,CAC5B,CAAC;oCACF,eAAe,CAAC,aAAa,CAAC,CAAC;oCAC/B,gBAAgB,CAAC,cAAc,GAAG,CAAC,CAAC,CAAC;oCACrC,UAAU,CAAC,GAAG,EAAE;wCACd,SAAS,CAAC;4CACR,aAAa,EAAE,cAAc,GAAG,CAAC;4CACjC,YAAY,EAAE,aAAa;4CAC3B,KAAK,EAAE,aAAa;4CACpB,OAAO;yCACR,CAAC,CAAC;oCACL,CAAC,CAAC,CAAC;iCACJ;6BACF;4BAED,MAAM,QAAQ,GAAG,OAAO,CAAC,SAAS,EAAE,UAAU,CAAC,CAAC;4BAChD,IAAI,QAAQ,KAAK,SAAS,EAAE;gCAC1B,UAAU,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC,CAAC;6BACjC;yBACF;wBACD,MAAM;oBACR,KAAK,gBAAgB,CAAC,eAAe;wBACnC;4BACE,MAAM,EAAE,cAAc,EAAE,OAAO,EAAE,GAAG,OAAO,CAAC;4BAE5C,MAAM,cAAc,GAAG,OAAO,CAAC,SAAS,EAAE,gBAAgB,CAAC,CAAC;4BAC5D,IAAI,cAAc,KAAK,SAAS,EAAE;gCAChC,MAAM,cAAc,GAAG,MAAM,CAAC,cAAc,CAAC,CAAC;gCAC9C,IAAI,aAAa,KAAK,cAAc,EAAE;oCACpC,gBAAgB,CAAC,cAAc,CAAC,CAAC;oCACjC,eAAe,CAAC,YAAY,CAAC,cAAc,GAAG,CAAC,CAAC,CAAC,CAAC;oCAClD,UAAU,CAAC,GAAG,EAAE;wCACd,SAAS,CAAC;4CACR,aAAa,EAAE,cAAc;4CAC7B,YAAY,EAAE,YAAY,CAAC,cAAc,GAAG,CAAC,CAAC;4CAC9C,KAAK,EAAE,YAAY,CAAC,cAAc,GAAG,CAAC,CAAC;4CACvC,OAAO;yCACR,CAAC,CAAC;oCACL,CAAC,CAAC,CAAC;iCACJ;6BACF;4BAED,MAAM,aAAa,GAAG,OAAO,CAAC,SAAS,EAAE,eAAe,CAAC,CAAC;4BAC1D,IAAI,aAAa,KAAK,SAAS,EAAE;gCAC/B,IAAI,YAAY,KAAK,aAAa,EAAE;oCAClC,MAAM,cAAc,GAAW,YAAY,CAAC,SAAS,CAAC,CAAC,GAAQ,EAAE,EAAE,CACjE,aAAa,CAAC,QAAQ,CAAC,GAAG,CAAC,CAC5B,CAAC;oCACF,eAAe,CAAC,aAAa,CAAC,CAAC;oCAC/B,gBAAgB,CAAC,cAAc,GAAG,CAAC,CAAC,CAAC;oCACrC,UAAU,CAAC,GAAG,EAAE;wCACd,SAAS,CAAC;4CACR,aAAa,EAAE,cAAc,GAAG,CAAC;4CACjC,YAAY,EAAE,aAAa;4CAC3B,KAAK,EAAE,aAAa;4CACpB,OAAO;yCACR,CAAC,CAAC;oCACL,CAAC,CAAC,CAAC;iCACJ;6BACF;4BAED,MAAM,QAAQ,GAAG,OAAO,CAAC,SAAS,EAAE,UAAU,CAAC,CAAC;4BAChD,IAAI,QAAQ,KAAK,SAAS,EAAE;gCAC1B,UAAU,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC,CAAC;6BACjC;yBACF;wBACD,MAAM;iBACT;YACH,CAAC,CAAC;YACF,MAAM,KAAK,GAAG,uBAAuB,CAAC,KAAK,CAAC,MAAM,EAAE,gBAAgB,EAAE,OAAO,CAAC,CAAC;YAC/E,OAAO,KAAK,CAAC;QACf,CAAC,CAAC,CAAC;QACH,OAAO,GAAG,EAAE;YACV,aAAa,CAAC,OAAO,CAAC,CAAC,KAAK,EAAE,EAAE;gBAC9B,KAAK,EAAE,CAAC;YACV,CAAC,CAAC,CAAC;QACL,CAAC,CAAC;IACJ,CAAC,EAAE,CAAC,KAAK,CAAC,MAAM,EAAE,YAAY,CAAC,CAAC,CAAC;IAEjC,gDAAgD;IAChD,MAAM,eAAe,GAAG,GAAG,EAAE;QAC3B,kDAAkD;QAClD,MAAM,OAAO,GAAG,EAAE,CAAC;QAEnB,IAAI,MAAM,EAAE;YACV,2GAA2G;YAC3G,OAAO,CAAC,IAAI,CACV,CAAC,MAAM,CAAC,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,EAAE,OAAO,EAAE,MAAM,EAAE,CAAC,CACrD;UAAA,CAAC,MAAM,CACT;QAAA,EAAE,MAAM,CAAC,CACV,CAAC;SACH;aAAM,IAAI,CAAC,aAAa,IAAI,aAAa,KAAK,CAAC,CAAC,EAAE;YACjD,gGAAgG;YAChG,OAAO,CAAC,IAAI,CACV,CAAC,MAAM,CAAC,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,CAAC,KAAK,CAAC,CAAC,EAAE,OAAO,EAAE,MAAM,EAAE,CAAC,CAAC,EAAE,MAAM,CAAC,CAClF,CAAC;SACH;QACD,IAAI,YAAY,EAAE;YAChB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,YAAY,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;gBAC5C,qDAAqD;gBACrD,OAAO,CAAC,IAAI,CACV,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,GAAG,CAAC,KAAK,aAAa,CAAC,CAClE;YAAA,CAAC,YAAY,CAAC,CAAC,CAAC,CAClB;UAAA,EAAE,MAAM,CAAC,CACV,CAAC;aACH;SACF;QACD,OAAO,OAAO,CAAC;IACjB,CAAC,CAAC;IAEF,OAAO,KAAK,CAAC,CAAC,CAAC,CACb,CAAC,GAAG,CAAC,eAAe,CAAC,CAAC,OAAO,CAAC,CAAC,SAAS,CAAC,gBAAgB,CAAC,KAAK,CAAC,CAAC,uBAAuB,CAAC,CACvF;MAAA,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,GAAG,EAAE,SAAS,CAAC,CAAC,CAAC,SAAS,IAAI,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,KAAK,CACxE;MAAA,CAAC,MAAM,CACL,KAAK,CAAC,CAAC,aAAa,CAAC,CACrB,EAAE,CAAC,CAAC,GAAG,EAAE,SAAS,CAAC,CACnB,KAAK,CAAC,CAAC,aAAa,CAAC,CACrB,SAAS,CAAC,CAAC,WAAW,CAAC,CACvB,QAAQ,CAAC,CAAC,YAAY,CAAC,CACvB,QAAQ,CAAC,CAAC,CAAC,OAAO,CAAC,CAEnB;QAAA,CAAC,eAAe,EAAE,CACpB;MAAA,EAAE,MAAM,CACV;IAAA,EAAE,GAAG,CAAC,CACP,CAAC,CAAC,CAAC,IAAI,CAAC;AACX,CAAC,CAAC;AAEF,MAAM,CAAC,MAAM,OAAO,GAAG,gBAAgB,CAAC;AAExC,eAAe,QAAQ,CAAC","sourcesContent":["/* eslint-disable react/prop-types */\nimport React, { CSSProperties, useCallback, useEffect, useState } from 'react';\nimport { CapiVariableTypes } from '../../../adaptivity/capi';\nimport {\n  NotificationType,\n  subscribeToNotification,\n} from '../../../apps/delivery/components/NotificationContext';\nimport { contexts } from '../../../types/applicationContext';\nimport { parseBool } from '../../../utils/common';\nimport { PartComponentProps } from '../types/parts';\nimport { DropdownModel } from './schema';\n\nconst Dropdown: React.FC<PartComponentProps<DropdownModel>> = (props) => {\n  const [state, setState] = useState<any[]>(Array.isArray(props.state) ? props.state : []);\n  const [model, setModel] = useState<any>(Array.isArray(props.model) ? props.model : {});\n  const [ready, setReady] = useState<boolean>(false);\n  const id: string = props.id;\n\n  const [enabled, setEnabled] = useState(true);\n  const [selectedIndex, setSelectedIndex] = useState<number>(-1);\n  const [selectedItem, setSelectedItem] = useState<string>('');\n  const [cssClass, setCssClass] = useState('');\n\n  const initialize = useCallback(async (pModel) => {\n    // set defaults\n    const dEnabled = typeof pModel.enabled === 'boolean' ? pModel.enabled : enabled;\n    setEnabled(dEnabled);\n\n    const dCssClass = pModel.customCssClass || '';\n    setCssClass(dCssClass);\n\n    const initResult = await props.onInit({\n      id,\n      responses: [\n        {\n          key: 'enabled',\n          type: CapiVariableTypes.BOOLEAN,\n          value: dEnabled,\n        },\n        {\n          key: 'customCssClass',\n          type: CapiVariableTypes.STRING,\n          value: dCssClass,\n        },\n        {\n          id: `selectedIndex`,\n          key: 'selectedIndex',\n          type: CapiVariableTypes.NUMBER,\n          value: selectedIndex,\n        },\n        {\n          id: `selectedItem`,\n          key: 'selectedItem',\n          type: CapiVariableTypes.STRING,\n          value: selectedItem,\n        },\n        {\n          id: `value`,\n          key: 'value',\n          type: CapiVariableTypes.STRING,\n          value: 'NULL',\n        },\n      ],\n    });\n\n    // result of init has a state snapshot with latest (init state applied)\n    const currentStateSnapshot = initResult.snapshot;\n\n    const sEnabled = currentStateSnapshot[`stage.${id}.enabled`];\n    if (sEnabled !== undefined) {\n      setEnabled(sEnabled);\n    }\n\n    const sCssClass = currentStateSnapshot[`stage.${id}.customCssClass`];\n    if (sCssClass !== undefined) {\n      setCssClass(sCssClass);\n    }\n\n    // TODO: value ??\n\n    const sSelectedIndex = currentStateSnapshot[`stage.${id}.selectedIndex`];\n    if (sSelectedIndex !== undefined && Number(sSelectedIndex) !== -1) {\n      const stateSelection = Number(sSelectedIndex);\n      setSelectedIndex(stateSelection);\n      if (pModel.optionLabels) {\n        setSelectedItem(pModel.optionLabels[stateSelection - 1]);\n        setTimeout(() => {\n          saveState({\n            selectedIndex: stateSelection,\n            selectedItem: pModel.optionLabels[stateSelection - 1],\n            value: pModel.optionLabels[stateSelection - 1],\n            enabled,\n          });\n        });\n      }\n    }\n\n    const sSelectedItem = currentStateSnapshot[`stage.${id}.selectedItem`];\n    if (sSelectedItem !== undefined && sSelectedItem !== '') {\n      const selectionIndex: number = pModel.optionLabels?.findIndex((str: string) =>\n        sSelectedItem.includes(str),\n      );\n      setSelectedItem(sSelectedItem);\n      setSelectedIndex(selectionIndex + 1);\n      setTimeout(() => {\n        saveState({\n          selectedIndex: selectionIndex + 1,\n          selectedItem: sSelectedItem,\n          value: sSelectedItem,\n          enabled,\n        });\n      });\n    }\n    //Instead of hardcoding REVIEW, we can make it an global interface and then importa that here.\n    if (initResult.context.mode === contexts.REVIEW) {\n      setEnabled(false);\n    }\n    setReady(true);\n  }, []);\n\n  useEffect(() => {\n    let pModel;\n    let pState;\n    if (typeof props?.model === 'string') {\n      try {\n        pModel = JSON.parse(props.model);\n        setModel(pModel);\n      } catch (err) {\n        // bad json, what do?\n      }\n    }\n    if (typeof props?.state === 'string') {\n      try {\n        pState = JSON.parse(props.state);\n        setState(pState);\n      } catch (err) {\n        // bad json, what do?\n      }\n    }\n    if (!pModel) {\n      return;\n    }\n    initialize(pModel);\n  }, [props]);\n\n  useEffect(() => {\n    if (!ready) {\n      return;\n    }\n    props.onReady({ id, responses: [] });\n  }, [ready]);\n\n  const {\n    x,\n    y,\n    z,\n    width,\n    height,\n    customCssClass,\n    showLabel,\n    label,\n    prompt,\n    optionLabels,\n    palette,\n  } = model;\n\n  useEffect(() => {\n    const styleChanges: any = {};\n    if (width !== undefined) {\n      styleChanges.width = { value: width as number };\n    }\n    if (height != undefined) {\n      styleChanges.height = { value: height as number };\n    }\n\n    props.onResize({ id: `${id}`, settings: styleChanges });\n  }, [width, height]);\n\n  const dropdownContainerStyles: CSSProperties = {\n    width,\n  };\n\n  const dropDownStyle: CSSProperties = {\n    width: 'auto',\n    height: 'auto',\n  };\n  if (!(showLabel && label)) {\n    dropDownStyle.width = `${Number(width) - 10}px`;\n  }\n  if (showLabel && label && width) {\n    //is this the best way to handle?\n    //if lable is visible then need to set the maxWidth otherwise it gets out of the container\n    dropDownStyle.maxWidth = `${Number(width * 0.63)}px`;\n  }\n\n  useEffect(() => {\n    //TODO commenting for now. Need to revisit once state structure logic is in place\n    //handleStateChange(state);\n  }, [state]);\n\n  const saveState = ({\n    selectedIndex,\n    selectedItem,\n    value,\n    enabled,\n  }: {\n    selectedIndex: number;\n    selectedItem: string;\n    value: string;\n    enabled: boolean;\n  }) => {\n    props.onSave({\n      id: `${id}`,\n      responses: [\n        {\n          key: 'enabled',\n          type: CapiVariableTypes.BOOLEAN,\n          value: enabled,\n        },\n        {\n          key: 'selectedIndex',\n          type: CapiVariableTypes.NUMBER,\n          value: selectedIndex,\n        },\n        {\n          key: 'selectedItem',\n          type: CapiVariableTypes.STRING,\n          value: selectedItem,\n        },\n        {\n          key: 'value',\n          type: CapiVariableTypes.STRING,\n          value: value,\n        },\n      ],\n    });\n  };\n\n  const handleChange = (event: any) => {\n    const val = Number(event.target.value);\n    // Update/set the value\n    setSelectedIndex(val);\n    saveState({\n      selectedIndex: val,\n      selectedItem: event.target.options[event.target.selectedIndex].text,\n      value: event.target.options[event.target.selectedIndex].text,\n      enabled,\n    });\n  };\n\n  useEffect(() => {\n    if (!props.notify) {\n      return;\n    }\n    const notificationsHandled = [\n      NotificationType.CHECK_STARTED,\n      NotificationType.CHECK_COMPLETE,\n      NotificationType.CONTEXT_CHANGED,\n      NotificationType.STATE_CHANGED,\n    ];\n    const notifications = notificationsHandled.map((notificationType: NotificationType) => {\n      const handler = (payload: any) => {\n        /* console.log(`${notificationType.toString()} notification handled [Dropdown]`, payload); */\n        switch (notificationType) {\n          case NotificationType.CHECK_STARTED:\n            // nothing to do\n            break;\n          case NotificationType.CHECK_COMPLETE:\n            // nothing to do\n            // TODO: highlight incorrect?\n            break;\n          case NotificationType.STATE_CHANGED:\n            {\n              const { mutateChanges: changes } = payload;\n\n              const sSelectedIndex = changes[`stage.${id}.selectedIndex`];\n              if (sSelectedIndex !== undefined) {\n                const stateSelection = Number(sSelectedIndex);\n                if (selectedIndex !== stateSelection) {\n                  setSelectedIndex(stateSelection);\n                  setSelectedItem(optionLabels[stateSelection - 1]);\n                  setTimeout(() => {\n                    saveState({\n                      selectedIndex: stateSelection,\n                      selectedItem: optionLabels[stateSelection - 1],\n                      value: optionLabels[stateSelection - 1],\n                      enabled,\n                    });\n                  });\n                }\n              }\n\n              const sSelectedItem = changes[`stage.${id}.selectedItem`];\n              if (sSelectedItem !== undefined) {\n                if (selectedItem !== sSelectedItem) {\n                  const selectionIndex: number = optionLabels.findIndex((str: any) =>\n                    sSelectedItem.includes(str),\n                  );\n                  setSelectedItem(sSelectedItem);\n                  setSelectedIndex(selectionIndex + 1);\n                  setTimeout(() => {\n                    saveState({\n                      selectedIndex: selectionIndex + 1,\n                      selectedItem: sSelectedItem,\n                      value: sSelectedItem,\n                      enabled,\n                    });\n                  });\n                }\n              }\n\n              const sEnabled = changes[`stage.${id}.enabled`];\n              if (sEnabled !== undefined) {\n                setEnabled(parseBool(sEnabled));\n              }\n            }\n            break;\n          case NotificationType.CONTEXT_CHANGED:\n            {\n              const { initStateFacts: changes } = payload;\n\n              const sSelectedIndex = changes[`stage.${id}.selectedIndex`];\n              if (sSelectedIndex !== undefined) {\n                const stateSelection = Number(sSelectedIndex);\n                if (selectedIndex !== stateSelection) {\n                  setSelectedIndex(stateSelection);\n                  setSelectedItem(optionLabels[stateSelection - 1]);\n                  setTimeout(() => {\n                    saveState({\n                      selectedIndex: stateSelection,\n                      selectedItem: optionLabels[stateSelection - 1],\n                      value: optionLabels[stateSelection - 1],\n                      enabled,\n                    });\n                  });\n                }\n              }\n\n              const sSelectedItem = changes[`stage.${id}.selectedItem`];\n              if (sSelectedItem !== undefined) {\n                if (selectedItem !== sSelectedItem) {\n                  const selectionIndex: number = optionLabels.findIndex((str: any) =>\n                    sSelectedItem.includes(str),\n                  );\n                  setSelectedItem(sSelectedItem);\n                  setSelectedIndex(selectionIndex + 1);\n                  setTimeout(() => {\n                    saveState({\n                      selectedIndex: selectionIndex + 1,\n                      selectedItem: sSelectedItem,\n                      value: sSelectedItem,\n                      enabled,\n                    });\n                  });\n                }\n              }\n\n              const sEnabled = changes[`stage.${id}.enabled`];\n              if (sEnabled !== undefined) {\n                setEnabled(parseBool(sEnabled));\n              }\n            }\n            break;\n        }\n      };\n      const unsub = subscribeToNotification(props.notify, notificationType, handler);\n      return unsub;\n    });\n    return () => {\n      notifications.forEach((unsub) => {\n        unsub();\n      });\n    };\n  }, [props.notify, optionLabels]);\n\n  // Generate a list of options using optionLabels\n  const dropdownOptions = () => {\n    // use explicit Array() since we're using Elements\n    const options = [];\n\n    if (prompt) {\n      // If a prompt exists and the selectedIndex is not set or is set to -1, set prompt as disabled first option\n      options.push(\n        <option key=\"-1\" value=\"-1\" style={{ display: 'none' }}>\n          {prompt}\n        </option>,\n      );\n    } else if (!selectedIndex || selectedIndex === -1) {\n      // If a prompt is blank and the selectedIndex is not set or is set to -1, set empty first option\n      options.push(\n        <option key=\"-1\" value=\"-1\" selected={true} style={{ display: 'none' }}></option>,\n      );\n    }\n    if (optionLabels) {\n      for (let i = 0; i < optionLabels.length; i++) {\n        // Set selected if selectedIndex equals current index\n        options.push(\n          <option key={i + 1} value={i + 1} selected={i + 1 === selectedIndex}>\n            {optionLabels[i]}\n          </option>,\n        );\n      }\n    }\n    return options;\n  };\n\n  return ready ? (\n    <div data-janus-type={tagName} className=\"dropdown-input\" style={dropdownContainerStyles}>\n      <label htmlFor={`${id}-select`}>{showLabel && label ? label : ''}</label>\n      <select\n        style={dropDownStyle}\n        id={`${id}-select`}\n        value={selectedIndex}\n        className={'dropdown '}\n        onChange={handleChange}\n        disabled={!enabled}\n      >\n        {dropdownOptions()}\n      </select>\n    </div>\n  ) : null;\n};\n\nexport const tagName = 'janus-dropdown';\n\nexport default Dropdown;\n"]}