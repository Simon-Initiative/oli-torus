{"version":3,"file":"schema.js","sourceRoot":"","sources":["../../../../../src/components/parts/janus-mcq/schema.ts"],"names":[],"mappings":"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","sourcesContent":["import { CapiVariableTypes } from '../../../adaptivity/capi';\nimport { JSONSchema7Object } from 'json-schema';\nimport { JanusAbsolutePositioned, JanusCustomCss } from '../types/parts';\n\nexport interface McqItem {\n  scoreValue: number;\n  nodes: any[]; // TODO: a text flow node\n  // TODO: rest of typing\n  [key: string]: any;\n}\nexport interface McqModel extends JanusAbsolutePositioned, JanusCustomCss {\n  fontSize?: number;\n  overrideHeight?: boolean;\n  layoutType: 'horizontalLayout' | 'verticalLayout';\n  verticalGap: number;\n  enabled: boolean;\n  showLabel: boolean;\n  showNumbering: boolean;\n  multipleSelection: boolean;\n  randomize: boolean;\n  mcqItems: McqItem[];\n}\n\nexport const schema: JSONSchema7Object = {\n  overrideHeight: {\n    title: 'Override Height',\n    type: 'boolean',\n    default: false,\n    description: 'enable to use the value provided by the height field',\n  },\n  customCssClass: {\n    title: 'Custom CSS Class',\n    type: 'string',\n  },\n  fontSize: {\n    title: 'Font Size',\n    type: 'number',\n    default: 12,\n  },\n  layoutType: {\n    title: 'Layout',\n    type: 'string',\n    description: 'specifies the layout type for options',\n    enum: ['horizontalLayout', 'verticalLayout'],\n    default: 'verticalLayout',\n  },\n  verticalGap: {\n    title: 'Vertical Gap',\n    type: 'number',\n  },\n  multipleSelection: {\n    title: 'Multiple Selection',\n    type: 'boolean',\n    default: false,\n    description: 'specifies whether multiple items can be selected',\n  },\n  randomize: {\n    title: 'Randomize',\n    type: 'boolean',\n    description: 'specifies whether to randomize the MCQ items',\n    default: false,\n  },\n  enabled: {\n    title: 'Enabled',\n    type: 'boolean',\n    description: 'specifies whether MCQ is enabled',\n    default: true,\n  },\n};\n\nexport const adaptivitySchema = {\n  enabled: CapiVariableTypes.BOOLEAN,\n  randomize: CapiVariableTypes.BOOLEAN,\n  numberOfSelectedChoices: CapiVariableTypes.NUMBER,\n  selectedChoice: CapiVariableTypes.NUMBER,\n  selectedChoiceText: CapiVariableTypes.STRING,\n  selectedChoices: CapiVariableTypes.ARRAY,\n  selectedChoicesText: CapiVariableTypes.ARRAY,\n};\n\nexport const uiSchema = {};\n\nexport const getCapabilities = () => ({\n  configure: true,\n});\n\nexport const createSchema = (): Partial<McqModel> => {\n  const createSimpleOption = (index: number, score = 1) => ({\n    scoreValue: score,\n    nodes: [\n      {\n        tag: 'p',\n        children: [\n          {\n            tag: 'span',\n            style: {},\n            children: [\n              {\n                tag: 'text',\n                text: `Option ${index}`,\n                children: [],\n              },\n            ],\n          },\n        ],\n      },\n    ],\n  });\n\n  return {\n    overrideHeight: false,\n    customCssClass: '',\n    layoutType: 'verticalLayout',\n    verticalGap: 0,\n    maxManualGrade: 0,\n    showOnAnswersReport: false,\n    requireManualGrading: false,\n    showLabel: true,\n    multipleSelection: false,\n    randomize: false,\n    showNumbering: false,\n    enabled: true,\n    mcqItems: [1, 2, 3].map(createSimpleOption),\n  };\n};\n"]}