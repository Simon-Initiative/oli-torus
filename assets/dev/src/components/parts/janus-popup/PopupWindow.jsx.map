{"version":3,"file":"PopupWindow.jsx","sourceRoot":"","sources":["../../../../../src/components/parts/janus-popup/PopupWindow.tsx"],"names":[],"mappings":"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","sourcesContent":["import chroma from 'chroma-js';\nimport PartsLayoutRenderer from 'components/activities/adaptive/components/delivery/PartsLayoutRenderer';\nimport React, { CSSProperties } from 'react';\nimport { ContextProps, InitResultProps } from './types';\n\ninterface PopupWindowProps {\n  config: any;\n  parts: any[];\n  context: ContextProps;\n  snapshot?: Record<string, unknown>;\n  onClose?: () => void;\n}\n\nconst PopupWindow: React.FC<PopupWindowProps> = ({\n  config,\n  parts,\n  context,\n  onClose,\n  snapshot = {},\n}) => {\n  const popupModalStyles: CSSProperties = {\n    width: config?.width || 300,\n  };\n  if (config?.palette) {\n    if (config.palette.useHtmlProps) {\n      popupModalStyles.backgroundColor = config.palette.backgroundColor;\n      popupModalStyles.borderColor = config.palette.borderColor;\n      popupModalStyles.borderWidth = config.palette.borderWidth;\n      popupModalStyles.borderStyle = config.palette.borderStyle;\n      popupModalStyles.borderRadius = config.palette.borderRadius;\n    } else {\n      popupModalStyles.borderWidth = `${\n        config?.palette?.lineThickness ? config?.palette?.lineThickness + 'px' : '1px'\n      }`;\n      popupModalStyles.borderRadius = '10px';\n      popupModalStyles.borderStyle = 'solid';\n      popupModalStyles.borderColor = `rgba(${\n        config?.palette?.lineColor || config?.palette?.lineColor === 0\n          ? chroma(config?.palette?.lineColor).rgb().join(',')\n          : '255, 255, 255'\n      },${config?.palette?.lineAlpha})`;\n      popupModalStyles.backgroundColor = `rgba(${\n        config?.palette?.fillColor || config?.palette?.fillColor === 0\n          ? chroma(config?.palette?.fillColor).rgb().join(',')\n          : '255, 255, 255'\n      },${config?.palette?.fillAlpha})`;\n    }\n  }\n\n  // position is an offset from the parent element now\n  popupModalStyles.left = config.x || 0;\n  popupModalStyles.top = config.y || 0;\n  popupModalStyles.zIndex = config.z || 1000;\n  popupModalStyles.height = config.height || 0;\n  popupModalStyles.overflow = 'hidden';\n  popupModalStyles.position = 'absolute';\n\n  const popupCloseStyles: CSSProperties = {\n    position: 'absolute',\n    padding: 0,\n    zIndex: (config.z || 1000) + 1,\n    background: 'transparent',\n    textDecoration: 'none',\n    width: '25px',\n    height: '25px',\n    fontSize: '1.4em',\n    fontFamily: 'Arial',\n    right: 0,\n    opacity: 1,\n  };\n\n  const popupBGStyles: CSSProperties = {\n    top: 0,\n    left: 0,\n    bottom: 0,\n    right: 0,\n    borderRadius: 10,\n    padding: 0,\n    overflow: 'hidden',\n    width: '100%',\n    height: '100%',\n  };\n\n  const closeButtonSpanStyles: CSSProperties = {\n    marginLeft: 12,\n    padding: 0,\n    textShadow: 'none',\n    top: 0,\n    left: 0,\n    bottom: 0,\n    fontWeight: 'bold',\n    fontFamily: 'Arial',\n    marginTop: -6,\n    position: 'absolute',\n    right: 0,\n  };\n\n  const handleCloseIconClick = (e: any) => {\n    if (onClose) {\n      onClose();\n    }\n  };\n\n  const handlePartInit = async ({ id, responses }: { id: string; responses: any[] }) => {\n    const result: InitResultProps = {\n      snapshot,\n      context,\n    };\n\n    /*   console.log('PopupWindow.handlePartInit', { result, id, responses }); */\n\n    return result;\n  };\n\n  return (\n    <div\n      className={`info-icon-popup ${config?.customCssClass ? config.customCssClass : ''}`}\n      style={popupModalStyles}\n    >\n      <div className=\"popup-background\" style={popupBGStyles}>\n        <PartsLayoutRenderer onPartInit={handlePartInit} parts={parts}></PartsLayoutRenderer>\n        <button\n          aria-label=\"Close\"\n          className=\"close\"\n          style={popupCloseStyles}\n          onClick={handleCloseIconClick}\n        >\n          <span aria-hidden={true} style={closeButtonSpanStyles}>\n            x\n          </span>\n        </button>\n      </div>\n    </div>\n  );\n};\n\nexport default PopupWindow;\n"]}