{"version":3,"file":"Message.jsx","sourceRoot":"","sources":["../../../../src/components/messages/Message.tsx"],"names":[],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport * as Messages from 'data/messages/messages';\nimport { classNames } from 'utils/classNames';\n\nexport interface MessageProps {\n  message: Messages.Message;\n  dismissMessage: (message: Messages.Message) => void;\n  executeAction: (message: Messages.Message, action: Messages.MessageAction) => void;\n}\n\nconst classesForSeverity = {\n  [Messages.Severity.Error]: 'alert alert-danger',\n  [Messages.Severity.Warning]: 'alert alert-warning',\n  [Messages.Severity.Information]: 'alert alert-info',\n  [Messages.Severity.Task]: 'alert alert-light',\n};\n// eslint-disable-next-line\nexport class Message extends React.PureComponent<MessageProps, {}> {\n  nav: HTMLDivElement | null;\n\n  constructor(props: MessageProps) {\n    super(props);\n  }\n\n  onDismiss(e: React.MouseEvent<HTMLButtonElement>) {\n    e.preventDefault();\n\n    this.props.dismissMessage(this.props.message);\n  }\n\n  componentDidMount() {\n    this.nav?.scrollIntoView(true);\n  }\n\n  renderMessageAction(message: Messages.Message, action: Messages.MessageAction) {\n    return (\n      <button\n        key={action.label}\n        className={classNames(['btn btn-action', action.btnClass])}\n        style={{ whiteSpace: 'nowrap' }}\n        disabled={!action.enabled}\n        onClick={() => this.props.executeAction(message, action)}\n        type=\"button\"\n      >\n        {action.label}\n      </button>\n    );\n  }\n\n  renderActions(message: Messages.Message) {\n    if (message.canUserDismiss || message.actions.length > 0) {\n      return (\n        <div className=\"form-inline my-2 my-lg-0\">\n          {message.actions.map((a: Messages.MessageAction) => this.renderMessageAction(message, a))}\n          {message.canUserDismiss && this.renderCloseButton()}\n        </div>\n      );\n    }\n  }\n\n  renderCloseButton() {\n    return (\n      <button\n        onClick={this.onDismiss.bind(this)}\n        type=\"button\"\n        className=\"close\"\n        aria-label=\"Close\"\n      >\n        <span aria-hidden=\"true\">&times;</span>\n      </button>\n    );\n  }\n\n  renderMessage(content: JSX.Element | string) {\n    return <div>{content}</div>;\n  }\n\n  render(): JSX.Element {\n    const { message } = this.props;\n    const classes =\n      'message d-flex justify-content-between ' + classesForSeverity[message.severity];\n\n    return (\n      <div className={classes} ref={(nav) => (this.nav = nav)}>\n        {this.renderMessage(message.content)}\n        {this.renderActions(message)}\n      </div>\n    );\n  }\n}\n"]}