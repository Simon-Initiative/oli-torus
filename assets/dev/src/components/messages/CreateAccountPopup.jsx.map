{"version":3,"file":"CreateAccountPopup.jsx","sourceRoot":"","sources":["../../../../src/components/messages/CreateAccountPopup.tsx"],"names":[],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { CSSTransition } from 'react-transition-group';\n\nexport interface CreateAccountPopupProps {\n  sectionSlug?: string;\n}\n\nexport function CreateAccountPopup(props: CreateAccountPopupProps): JSX.Element {\n  const [show, setShow] = useState(false);\n\n  const onDismiss = () => {\n    setShow(false);\n    sessionStorage.setItem('createAccountPrompt', 'hide');\n  };\n\n  const onDontAskAgain = () => {\n    setShow(false);\n    localStorage.setItem('createAccountPrompt', 'hide');\n  };\n\n  const onBlurClick = (e: any) => {\n    if (!e.createAccountPopupClick) {\n      setShow(false);\n      window.removeEventListener('click', onBlurClick);\n    }\n  };\n\n  useEffect(() => {\n    const showPref =\n      sessionStorage.getItem('createAccountPrompt') != 'hide' &&\n      localStorage.getItem('createAccountPrompt') != 'hide';\n    setShow(showPref);\n    window.addEventListener('click', onBlurClick);\n  }, []);\n\n  const onClick = (e: React.MouseEvent<HTMLDivElement, MouseEvent>) => {\n    (e.nativeEvent as any).createAccountPopupClick = true;\n  };\n\n  return (\n    <CSSTransition in={show} appear={true} timeout={300} unmountOnExit>\n      <div className=\"create-account-popup\" onClick={(e) => onClick(e)}>\n        <div id=\"arrow\"></div>\n\n        <div className=\"d-flex flex-row\">\n          <h4>Welcome to Open and Free!</h4>\n        </div>\n        <p>\n          You are viewing this course as a guest. You can access course materials but your{' '}\n          <b>progress will not be saved</b>.\n        </p>\n\n        <p>Create an account or sign in to enroll in this course and track your progress.</p>\n        <div className=\"d-flex mt-4\">\n          <div className=\"btn-group\">\n            <button type=\"button\" className=\"btn btn-sm btn-link\" onClick={() => onDismiss()}>\n              Maybe later\n            </button>\n            <button\n              type=\"button\"\n              className=\"btn btn-sm btn-link dropdown-toggle dropdown-toggle-split\"\n              data-toggle=\"dropdown\"\n              aria-haspopup=\"true\"\n              aria-expanded=\"false\"\n            >\n              <span className=\"sr-only\">Toggle Dropdown</span>\n            </button>\n            <div className=\"dropdown-menu\">\n              <button\n                className=\"btn btn-sm btn-link dropdown-item text-left\"\n                onClick={() => onDontAskAgain()}\n              >\n                Don&apos;t ask again on this browser\n              </button>\n            </div>\n          </div>\n\n          <div className=\"flex-grow-1\"></div>\n          <a\n            href={`/course/create_account?section=${props.sectionSlug}`}\n            className=\"btn btn-sm btn-outline-primary ml-1\"\n          >\n            Create account\n          </a>\n          <a\n            href={`/course/signin?section=${props.sectionSlug}`}\n            className=\"btn btn-sm btn-primary ml-1\"\n          >\n            Sign in\n          </a>\n        </div>\n      </div>\n    </CSSTransition>\n  );\n}\n"]}