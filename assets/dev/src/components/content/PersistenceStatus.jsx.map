{"version":3,"file":"PersistenceStatus.jsx","sourceRoot":"","sources":["../../../../src/components/content/PersistenceStatus.tsx"],"names":[],"mappings":"AAAA,OAAO,KAAK,EAAE,EAAE,QAAQ,EAAE,MAAM,OAAO,CAAC;AAGxC,mDAAmD;AACnD,oDAAoD;AACpD,kDAAkD;AAClD,oCAAoC;AACpC,MAAM,CAAC,MAAM,iBAAiB,GAAG,CAAC,EAAE,WAAW,EAAqC,EAAE,EAAE;IACtF,MAAM,CAAC,YAAY,EAAE,eAAe,CAAC,GAAG,QAAQ,CAAC,KAAK,CAAC,CAAC;IAExD,IAAI,WAAW,KAAK,MAAM,IAAI,CAAC,YAAY,EAAE;QAC3C,eAAe,CAAC,IAAI,CAAC,CAAC;KACvB;IAED,IAAI,KAAK,GAAG,EAAE,CAAC;IACf,IAAI,YAAY,IAAI,WAAW,KAAK,MAAM,EAAE;QAC1C,KAAK,GAAG,mBAAmB,CAAC;KAC7B;SAAM,IAAI,WAAW,KAAK,UAAU,IAAI,WAAW,KAAK,SAAS,EAAE;QAClE,KAAK,GAAG,WAAW,CAAC;KACrB;IAED,OAAO,CAAC,GAAG,CAAC,CAAC,KAAK,CAAC,EAAE,GAAG,CAAC,CAAC;AAC5B,CAAC,CAAC","sourcesContent":["import React, { useState } from 'react';\nimport { PersistenceState } from 'data/persistence/PersistenceStrategy';\n\n// Displays a label indicating persistence state to\n// the end user.  Nothing is displayed until an edit\n// has been triggered.  Then either 'Saving...' or\n// 'All changes saved\" is displayed.\nexport const PersistenceStatus = ({ persistence }: { persistence: PersistenceState }) => {\n  const [hasSavedOnce, setHasSavedOnce] = useState(false);\n\n  if (persistence !== 'idle' && !hasSavedOnce) {\n    setHasSavedOnce(true);\n  }\n\n  let label = '';\n  if (hasSavedOnce && persistence === 'idle') {\n    label = 'All changes saved';\n  } else if (persistence === 'inflight' || persistence === 'pending') {\n    label = 'Saving...';\n  }\n\n  return <div>{label}</div>;\n};\n"]}