{"version":3,"file":"RichTextEditor.jsx","sourceRoot":"","sources":["../../../../src/components/content/RichTextEditor.tsx"],"names":[],"mappings":"AAAA,OAAO,EAAE,0BAA0B,EAAE,MAAM,wCAAwC,CAAC;AACpF,OAAO,EAAE,aAAa,EAAE,MAAM,iCAAiC,CAAC;AAEhE,OAAO,EAAE,MAAM,EAAE,MAAM,kCAAkC,CAAC;AAE1D,OAAO,EAAE,wBAAwB,EAAE,MAAM,6CAA6C,CAAC;AAEvF,OAAO,KAAK,MAAM,OAAO,CAAC;AAE1B,OAAO,EAAE,UAAU,EAAE,MAAM,kBAAkB,CAAC;AAe9C,MAAM,CAAC,MAAM,cAAc,GAAoB,CAAC,KAAK,EAAE,EAAE;IACvD,kEAAkE;IAClE,MAAM,KAAK,GAAI,KAAK,CAAC,KAAa,CAAC,KAAK,CAAC,CAAC,CAAE,KAAK,CAAC,KAAa,CAAC,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC;IAEpF,OAAO,CACL,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC,UAAU,CAAC,CAAC,kBAAkB,EAAE,KAAK,CAAC,SAAS,CAAC,CAAC,CAAC,CAChE;MAAA,CAAC,aAAa,CACZ;QAAA,CAAC,MAAM,CACL,iBAAiB,CAAC,CAAC,KAAK,CAAC,iBAAiB,CAAC,CAC3C,cAAc,CAAC,CAAC,KAAK,CAAC,cAAc,IAAI,EAAE,WAAW,EAAE,KAAK,CAAC,WAAW,EAAE,CAAC,CAC3E,QAAQ,CAAC,CAAC,KAAK,CAAC,QAAQ,CAAC,CACzB,KAAK,CAAC,CAAC,KAAK,CAAC,CACb,MAAM,CAAC,CAAC,CAAC,KAAK,EAAE,MAAM,EAAE,UAAU,EAAE,EAAE,CAAC,KAAK,CAAC,MAAM,CAAC,KAAK,EAAE,MAAM,EAAE,UAAU,CAAC,CAAC,CAC/E,YAAY,CAAC,CAAC,wBAAwB,CACpC,KAAK,CAAC,cAAc,EACpB,KAAK,CAAC,mBAAmB,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,SAAS,CAChD,CAAC,CACF,WAAW,CAAC,CAAC,KAAK,CAAC,WAAW,CAAC,CAC/B,KAAK,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,CAEnB;UAAA,CAAC,KAAK,CAAC,QAAQ,CACjB;QAAA,EAAE,MAAM,CACV;MAAA,EAAE,aAAa,CACjB;IAAA,EAAE,GAAG,CAAC,CACP,CAAC;AACJ,CAAC,CAAC;AAEF,MAAM,CAAC,MAAM,uBAAuB,GAAsD,CACxF,KAAK,EACL,EAAE;IACF,MAAM,EAAE,QAAQ,EAAE,WAAW,EAAE,cAAc,EAAE,GAAG,0BAA0B,EAAE,CAAC;IAC/E,OAAO,CACL,CAAC,cAAc,CACb,IAAI,KAAK,CAAC,CACV,QAAQ,CAAC,CAAC,QAAQ,CAAC,CACnB,WAAW,CAAC,CAAC,WAAW,CAAC,CACzB,cAAc,CAAC,CAAC,cAAc,CAAC,EAC/B,CACH,CAAC;AACJ,CAAC,CAAC","sourcesContent":["import { useAuthoringElementContext } from 'components/activities/AuthoringElement';\nimport { ErrorBoundary } from 'components/common/ErrorBoundary';\nimport { CommandContext } from 'components/editing/commands/interfaces';\nimport { Editor } from 'components/editing/editor/Editor';\nimport { NormalizerContext } from 'components/editing/editor/normalizers/normalizer';\nimport { getToolbarForContentType } from 'components/editing/toolbars/insertion/items';\nimport { ProjectSlug } from 'data/types';\nimport React from 'react';\nimport { Descendant, Editor as SlateEditor, Operation } from 'slate';\nimport { classNames } from 'utils/classNames';\n\ntype Props = {\n  projectSlug: ProjectSlug;\n  editMode: boolean;\n  className?: string;\n  value: Descendant[];\n  onEdit: (value: Descendant[], editor: SlateEditor, operations: Operation[]) => void;\n  placeholder?: string;\n  onRequestMedia?: any;\n  style?: React.CSSProperties;\n  commandContext?: CommandContext;\n  normalizerContext?: NormalizerContext;\n  preventLargeContent?: boolean;\n};\nexport const RichTextEditor: React.FC<Props> = (props) => {\n  // Support content persisted when RichText had a `model` property.\n  const value = (props.value as any).model ? (props.value as any).model : props.value;\n\n  return (\n    <div className={classNames(['rich-text-editor', props.className])}>\n      <ErrorBoundary>\n        <Editor\n          normalizerContext={props.normalizerContext}\n          commandContext={props.commandContext || { projectSlug: props.projectSlug }}\n          editMode={props.editMode}\n          value={value}\n          onEdit={(value, editor, operations) => props.onEdit(value, editor, operations)}\n          toolbarItems={getToolbarForContentType(\n            props.onRequestMedia,\n            props.preventLargeContent ? 'small' : undefined,\n          )}\n          placeholder={props.placeholder}\n          style={props.style}\n        >\n          {props.children}\n        </Editor>\n      </ErrorBoundary>\n    </div>\n  );\n};\n\nexport const RichTextEditorConnected: React.FC<Omit<Props, 'projectSlug' | 'editMode'>> = (\n  props,\n) => {\n  const { editMode, projectSlug, onRequestMedia } = useAuthoringElementContext();\n  return (\n    <RichTextEditor\n      {...props}\n      editMode={editMode}\n      projectSlug={projectSlug}\n      onRequestMedia={onRequestMedia}\n    />\n  );\n};\n"]}