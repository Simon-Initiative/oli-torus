{"version":3,"file":"SizePicker.jsx","sourceRoot":"","sources":["../../../../../../src/components/editing/commands/table/SizePicker.tsx"],"names":[],"mappings":"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","sourcesContent":["import * as React from 'react';\n\ntype Size = {\n  rows: number;\n  columns: number;\n};\n\nconst initialSize: Size = { rows: 1, columns: 1 };\n\nconst minRows = 4;\nconst minCols = 4;\nconst maxRows = 15;\nconst maxCols = 15;\n\nconst cellContainerStyle = {\n  padding: '2px',\n  display: 'inline-block',\n  cursor: 'pointer',\n  lineHeight: '0',\n};\n\nconst DEFAULT_BORDER_COLOR = '#ededed';\nconst HIGHLIGHTED_BORDER_COLOR = '#ccdefb';\nconst DEFAULT_BACKGROUND_COLOR = '#f8f8f8';\nconst HIGHLIGHTED_BACKGROUND_COLOR = '#e0eafb';\n\nconst cellStyle = (isHighlighted: boolean) => ({\n  backgroundColor: isHighlighted ? HIGHLIGHTED_BACKGROUND_COLOR : DEFAULT_BACKGROUND_COLOR,\n  border: `1px solid ${isHighlighted ? HIGHLIGHTED_BORDER_COLOR : DEFAULT_BORDER_COLOR}`,\n  borderRadius: '2px',\n  padding: '0px',\n  margin: '0px',\n  display: 'inline-block',\n  height: '15px',\n  width: '15px',\n});\n\nconst range = (n: number) =>\n  // eslint-disable-next-line\n  Array.apply(null, { length: n })\n    .map(Number.call, Number)\n    .map((v: any) => v + 1);\n\nexport type SizePickerProps = {\n  onTableCreate: (rows: number, columns: number) => void;\n};\n\nexport const SizePicker = (props: SizePickerProps) => {\n  const [size, setSize] = React.useState(initialSize);\n\n  const isHighlighted = (row: number, col: number) => size.rows >= row && size.columns >= col;\n\n  const numRows = Math.min(Math.max(size.rows, minRows) + 1, maxRows);\n  const numCols = Math.min(Math.max(size.columns, minCols) + 1, maxCols);\n\n  const rows = range(numRows);\n  const cols = range(numCols);\n\n  const width = numCols * 19 + 15 + 'px';\n  const height = numRows * 25 + 35 + 'px';\n\n  const mapRow = (row: number) => {\n    const cells = cols.map((col: number) => (\n      <div\n        key={'col' + col}\n        style={cellContainerStyle}\n        onMouseEnter={(e) => setSize({ rows: row, columns: col })}\n        onMouseDown={(e) => {\n          setSize({ rows: 1, columns: 1 });\n          props.onTableCreate(row, col);\n        }}\n      >\n        <div style={cellStyle(isHighlighted(row, col))} />\n      </div>\n    ));\n\n    return <div key={'row' + row}>{cells}</div>;\n  };\n\n  const gridStyle = {\n    height,\n    width,\n  } as any;\n\n  const labelStyle = {\n    width,\n  } as any;\n\n  const sizeLabel = size.rows + ' by ' + size.columns;\n\n  return (\n    <div className=\"table-size-picker\" style={gridStyle}>\n      {rows.map(mapRow)}\n      <div className=\"table-size-picker-label\" style={labelStyle}>\n        {sizeLabel}\n      </div>\n    </div>\n  );\n};\n"]}