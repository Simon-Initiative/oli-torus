{"version":3,"file":"Settings.jsx","sourceRoot":"","sources":["../../../../../../src/components/editing/models/settings/Settings.tsx"],"names":[],"mappings":"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","sourcesContent":["import React, { useState, useRef } from 'react';\nimport { Popover } from 'react-tiny-popover';\nimport { ReactEditor } from 'slate-react';\nimport { Transforms, Editor, Location } from 'slate';\nimport { cursorAtEndOfInput, cursorAtBeginningOfInput } from 'components/editing/utils';\nimport { ModelElement } from 'data/content/model/elements/types';\n\n// Reusable components for settings UIs\n\nexport const onEnterApply = (e: React.KeyboardEvent, onApply: () => void) => {\n  if (e.key === 'Enter') {\n    onApply();\n  }\n};\n\nexport const Action = ({ icon, onClick, tooltip, id }: any) => {\n  return (\n    <span\n      id={id}\n      data-toggle=\"tooltip\"\n      data-placement=\"top\"\n      title={tooltip}\n      style={{ cursor: 'pointer ' }}\n    >\n      <i onClick={onClick} className={icon + ' mr-2'}></i>\n    </span>\n  );\n};\n\nexport const ActionMaterial = ({ icon, onClick, tooltip, id }: any) => {\n  return (\n    <span\n      id={id}\n      data-toggle=\"tooltip\"\n      data-placement=\"top\"\n      title={tooltip}\n      style={{ cursor: 'pointer ' }}\n    >\n      <i onClick={onClick} className=\"material-icons\">\n        {icon}\n      </i>\n    </span>\n  );\n};\n\ninterface SelectProps {\n  value: string | undefined;\n  onChange: (s: string) => void;\n  options: string[];\n  editor: Editor;\n  style?: React.CSSProperties;\n}\n\nexport const Select = (props: SelectProps) => {\n  const { onChange, editor, style, options } = props;\n  const [value, setValue] = useState(props.value);\n  const ref = useRef();\n\n  return (\n    <select\n      style={{ maxWidth: '120px', ...style }}\n      ref={ref as any}\n      className=\"form-control form-control-sm mb-2\"\n      value={value}\n      onBlur={(_e) => ReactEditor.deselect(editor)}\n      onChange={(e) => {\n        setValue(e.target.value);\n        onChange(e.target.value);\n      }}\n    >\n      {options.map((o) => (\n        <option key={o} value={o}>\n          {o}\n        </option>\n      ))}\n    </select>\n  );\n};\n\ninterface InputProps {\n  value: string | undefined;\n  onChange: (s: string) => void;\n  placeholder: string;\n  editor: Editor;\n  model: ModelElement;\n  editMode: boolean;\n}\nexport const Input = (props: InputProps) => {\n  const { onChange, placeholder, editor, model, editMode } = props;\n  const [value, setValue] = useState(props.value);\n  const ref = useRef<HTMLInputElement | null>(null);\n\n  return (\n    <input\n      style={{\n        userSelect: editMode ? 'unset' : 'none',\n      }}\n      ref={ref}\n      value={value || ''}\n      placeholder={placeholder + ' (optional)'}\n      onChange={(e) => {\n        setValue(e.target.value);\n        onChange(e.target.value);\n      }}\n      onBlur={(_e) => ReactEditor.deselect(editor)}\n      onKeyDown={(e) => {\n        const input = ref.current;\n        if (!input) {\n          return;\n        }\n        const changeSelection = (path: Location) => {\n          ReactEditor.focus(editor);\n          Transforms.select(editor, path);\n        };\n        const path = ReactEditor.findPath(editor, model);\n\n        if (\n          e.key === 'Enter' ||\n          (e.key === 'ArrowDown' && cursorAtEndOfInput(input)) ||\n          (e.key === 'ArrowRight' && cursorAtEndOfInput(input))\n        ) {\n          e.preventDefault();\n          e.stopPropagation();\n          const next = Editor.next(editor, { at: path });\n          return next && changeSelection(next[1]);\n        }\n        if (\n          (e.key === 'ArrowUp' && cursorAtBeginningOfInput(input)) ||\n          (e.key === 'ArrowLeft' && cursorAtBeginningOfInput(input))\n        ) {\n          e.preventDefault();\n          e.stopPropagation();\n          return changeSelection(path);\n        }\n      }}\n      className=\"settings-input\"\n    />\n  );\n};\n\nexport const ToolPopupButton = ({ setIsPopoverOpen, isPopoverOpen, contentFn, label }: any) => {\n  return (\n    <div style={{ float: 'right' }}>\n      <Popover\n        onClickOutside={() => {\n          setIsPopoverOpen(false);\n        }}\n        isOpen={isPopoverOpen}\n        padding={25}\n        content={contentFn}\n      >\n        <button onClick={() => setIsPopoverOpen(true)} className=\"btn btn-light btn-sm mt-1\">\n          <i className=\"fas fa-cog mr-1\"></i>\n          {label ? `${label} Options` : 'Options'}\n        </button>\n      </Popover>\n    </div>\n  );\n};\n"]}