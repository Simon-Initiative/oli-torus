{"version":3,"file":"PreviewTools.jsx","sourceRoot":"","sources":["../../../../../src/apps/delivery/components/PreviewTools.tsx"],"names":[],"mappings":"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","sourcesContent":["/* eslint-disable no-prototype-builtins */\n/* eslint-disable react/prop-types */\nimport React, { useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { selectCurrentActivity } from '../store/features/activities/slice';\nimport { navigateToActivity } from '../store/features/groups/actions/deck';\nimport Adaptivity from './preview-tools/Adaptivity';\nimport Inspector from './preview-tools/Inspector';\nimport ScreenSelector from './preview-tools/ScreenSelector';\n\n// Title Component\ninterface TitleProps {\n  title: string;\n  togglePanel: () => void;\n}\nconst Title: React.FC<any> = (props: TitleProps) => {\n  const { title, togglePanel } = props;\n  return (\n    <div className=\"pt-header\">\n      <button onClick={() => togglePanel()}>\n        <svg\n          fill={\n            window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches\n              ? '#ffffff'\n              : '#000000'\n          }\n          height=\"24\"\n          viewBox=\"0 0 14 14\"\n          width=\"24\"\n          xmlns=\"http://www.w3.org/2000/svg\"\n        >\n          <path d=\"M4.646 4.646a.5.5 0 01.708 0L8 7.293l2.646-2.647a.5.5 0 01.708.708L8.707 8l2.647 2.646a.5.5 0 01-.708.708L8 8.707l-2.646 2.647a.5.5 0 01-.708-.708L7.293 8 4.646 5.354a.5.5 0 010-.708z\" />\n        </svg>\n      </button>\n      <div>\n        {/* TODO: Convert to ENUM */}\n        {title === 'Screens' && <ScreensIcon />}\n        {title === 'Adaptivity' && <AdaptivityIcon />}\n        {title === 'Inspector' && <InspectorIcon />}\n        <div className=\"pt-title\">{title}</div>\n      </div>\n    </div>\n  );\n};\n\n// Reusable Icons\nconst ScreensIcon = () => (\n  <svg\n    className=\"dock__icon\"\n    fill={\n      window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches\n        ? '#ffffff'\n        : '#000000'\n    }\n    height=\"24\"\n    viewBox=\"0 0 18 18\"\n    width=\"24\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <path d=\"M0 4s0-2 2-2h12s2 0 2 2v6s0 2-2 2h-4c0 .667.083 1.167.25 1.5H11a.5.5 0 010 1H5a.5.5 0 010-1h.75c.167-.333.25-.833.25-1.5H2s-2 0-2-2V4zm1.398-.855a.758.758 0 00-.254.302A1.46 1.46 0 001 4.01V10c0 .325.078.502.145.602.07.105.17.188.302.254a1.464 1.464 0 00.538.143L2.01 11H14c.325 0 .502-.078.602-.145a.758.758 0 00.254-.302 1.464 1.464 0 00.143-.538L15 9.99V4c0-.325-.078-.502-.145-.602a.757.757 0 00-.302-.254A1.46 1.46 0 0013.99 3H2c-.325 0-.502.078-.602.145z\" />\n  </svg>\n);\n\nconst AdaptivityIcon = () => (\n  <svg\n    className=\"dock__icon\"\n    fill={\n      window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches\n        ? '#ffffff'\n        : '#000000'\n    }\n    height=\"24\"\n    viewBox=\"0 0 18 18\"\n    width=\"24\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <path\n      fillRule=\"evenodd\"\n      d=\"M6 3.5A1.5 1.5 0 017.5 2h1A1.5 1.5 0 0110 3.5v1A1.5 1.5 0 018.5 6v1H14a.5.5 0 01.5.5v1a.5.5 0 01-1 0V8h-5v.5a.5.5 0 01-1 0V8h-5v.5a.5.5 0 01-1 0v-1A.5.5 0 012 7h5.5V6A1.5 1.5 0 016 4.5v-1zM8.5 5a.5.5 0 00.5-.5v-1a.5.5 0 00-.5-.5h-1a.5.5 0 00-.5.5v1a.5.5 0 00.5.5h1zM0 11.5A1.5 1.5 0 011.5 10h1A1.5 1.5 0 014 11.5v1A1.5 1.5 0 012.5 14h-1A1.5 1.5 0 010 12.5v-1zm1.5-.5a.5.5 0 00-.5.5v1a.5.5 0 00.5.5h1a.5.5 0 00.5-.5v-1a.5.5 0 00-.5-.5h-1zm4.5.5A1.5 1.5 0 017.5 10h1a1.5 1.5 0 011.5 1.5v1A1.5 1.5 0 018.5 14h-1A1.5 1.5 0 016 12.5v-1zm1.5-.5a.5.5 0 00-.5.5v1a.5.5 0 00.5.5h1a.5.5 0 00.5-.5v-1a.5.5 0 00-.5-.5h-1zm4.5.5a1.5 1.5 0 011.5-1.5h1a1.5 1.5 0 011.5 1.5v1a1.5 1.5 0 01-1.5 1.5h-1a1.5 1.5 0 01-1.5-1.5v-1zm1.5-.5a.5.5 0 00-.5.5v1a.5.5 0 00.5.5h1a.5.5 0 00.5-.5v-1a.5.5 0 00-.5-.5h-1z\"\n    />\n  </svg>\n);\n\nconst InspectorIcon = () => (\n  <svg\n    className=\"dock__icon\"\n    fill={\n      window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches\n        ? '#ffffff'\n        : '#000000'\n    }\n    height=\"24\"\n    viewBox=\"0 0 18 18\"\n    width=\"24\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <path d=\"M10.478 1.647a.5.5 0 10-.956-.294l-4 13a.5.5 0 00.956.294l4-13zM4.854 4.146a.5.5 0 010 .708L1.707 8l3.147 3.146a.5.5 0 01-.708.708l-3.5-3.5a.5.5 0 010-.708l3.5-3.5a.5.5 0 01.708 0zm6.292 0a.5.5 0 000 .708L14.293 8l-3.147 3.146a.5.5 0 00.708.708l3.5-3.5a.5.5 0 000-.708l-3.5-3.5a.5.5 0 00-.708 0z\" />\n  </svg>\n);\n\n// Primary Preview Tools component\ninterface PreviewToolsProps {\n  model: any;\n}\nconst PreviewTools: React.FC<PreviewToolsProps> = ({ model }) => {\n  const [opened, setOpened] = useState<boolean>(false);\n  const [view, setView] = useState<string>('screens');\n  const currentActivity = useSelector(selectCurrentActivity);\n  const dispatch = useDispatch();\n  const sequence = model[0].children\n    ?.filter((child: any) => !child.custom.isLayer && !child.custom.isBank)\n    .map((s: any) => {\n      return { ...s.custom };\n    });\n\n  // Navigates to Activity\n  const navigate = (activityId: any) => {\n    dispatch(navigateToActivity(activityId));\n  };\n\n  // Toggle the menu open/closed\n  const togglePanel = () => {\n    setOpened(!opened);\n  };\n\n  // Fires when selecting a tool to open\n  const displayView = (view: any) => {\n    setView(view);\n    setOpened(true);\n  };\n\n  return (\n    <div id=\"PreviewTools\" className={`preview-tools${opened ? ' opened' : ''}`}>\n      {opened && (\n        <Title togglePanel={togglePanel} title={view.charAt(0).toUpperCase() + view.slice(1)} />\n      )}\n\n      <div className=\"pt-body\">\n        {!opened && (\n          <div className=\"action-picker\">\n            <button\n              onClick={() => displayView('screens')}\n              className=\"mb-2\"\n              style={{\n                border: 'none',\n                background: 'transparent',\n              }}\n            >\n              <ScreensIcon />\n            </button>\n            <button\n              onClick={() => displayView('adaptivity')}\n              className=\"mb-2\"\n              style={{\n                border: 'none',\n                background: 'transparent',\n              }}\n            >\n              <AdaptivityIcon />\n            </button>\n            <button\n              onClick={() => displayView('inspector')}\n              style={{\n                border: 'none',\n                background: 'transparent',\n              }}\n            >\n              <InspectorIcon />\n            </button>\n          </div>\n        )}\n        {opened && view === 'screens' && (\n          <ScreenSelector\n            sequence={sequence}\n            navigate={navigate}\n            currentActivity={currentActivity}\n          />\n        )}\n        {opened && view === 'adaptivity' && <Adaptivity currentActivity={currentActivity} />}\n        {opened && view === 'inspector' && <Inspector currentActivity={currentActivity} />}\n      </div>\n    </div>\n  );\n};\n\nexport default PreviewTools;\n"]}