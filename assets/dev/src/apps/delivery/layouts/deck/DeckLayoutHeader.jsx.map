{"version":3,"file":"DeckLayoutHeader.jsx","sourceRoot":"","sources":["../../../../../../src/apps/delivery/layouts/deck/DeckLayoutHeader.tsx"],"names":[],"mappings":"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","sourcesContent":["import React from 'react';\nimport { useSelector } from 'react-redux';\nimport { selectPageContent, selectScore } from '../../store/features/page/slice';\nimport EverappMenu from './components/EverappMenu';\nimport { Everapp } from './components/EverappRenderer';\nimport OptionsPanel from './components/OptionsPanel';\n\ninterface DeckLayoutHeaderProps {\n  pageName?: string;\n  activityName?: string;\n  showScore?: boolean;\n  themeId?: string;\n  userName?: string;\n}\n\nconst DeckLayoutHeader: React.FC<DeckLayoutHeaderProps> = ({\n  pageName,\n  activityName,\n  showScore = false,\n  themeId,\n  userName,\n}) => {\n  const scoreValue = useSelector(selectScore);\n  const isLegacyTheme = !themeId;\n  const scoreToShow = scoreValue.toFixed(2);\n  const scoreText = isLegacyTheme ? `(Score: ${scoreToShow})` : scoreToShow;\n\n  const currentPage = useSelector(selectPageContent);\n\n  const everApps: Everapp[] = currentPage?.custom?.everApps || [];\n  const hasEverApps = everApps.filter((a) => a.isVisible).length > 0;\n\n  const [showOptions, setShowOptions] = React.useState(false);\n\n  return (\n    <div className=\"headerContainer\">\n      <header id=\"delivery-header\">\n        <div className=\"defaultView\">\n          <h1 className=\"lessonTitle\">{pageName}</h1>\n          <h2 className=\"questionTitle\">{activityName}</h2>\n          <div className={`wrapper ${!isLegacyTheme ? 'displayNone' : ''}`}>\n            <div className=\"nameScoreButtonWrapper\">\n              {/* <a className=\"trapStateListToggle\">Force Adaptivity</a> */}\n              {isLegacyTheme && hasEverApps && <EverappMenu apps={everApps} />}\n\n              <div className=\"name\">{userName}</div>\n              <div className={`score ${!showScore ? 'displayNone' : ''}`}>{scoreText}</div>\n              <button\n                className=\"optionsToggle\"\n                title=\"Toggle menu visibility\"\n                aria-label=\"Toggle menu visibility\"\n                onClick={() => {\n                  setShowOptions(!showOptions);\n                }}\n              >\n                <div className=\"icon-reorder\"></div>\n              </button>\n            </div>\n            <OptionsPanel open={showOptions} />\n          </div>\n          <div className={`theme-header ${isLegacyTheme ? 'displayNone' : ''}`}>\n            <div className={`theme-header-score ${!showScore ? 'displayNone' : ''}`}>\n              <div className=\"theme-header-score__icon\"></div>\n              <span className=\"theme-header-score__label\">Score:&nbsp;</span>\n              <span className=\"theme-header-score__value\">{scoreText}</span>\n            </div>\n            <div className=\"theme-header-profile\" style={{ display: 'flex' }}>\n              <button\n                className=\"theme-header-profile__toggle\"\n                title=\"Toggle Profile Options\"\n                aria-label=\"Toggle Profile Options\"\n                disabled\n              >\n                <span className=\"nameScoreButtonWrapper\">\n                  <div className=\"theme-header-profile__icon\"></div>\n                  <span className=\"theme-header-profile__label\">{userName}</span>\n                </span>\n              </button>\n              {!isLegacyTheme && hasEverApps && <EverappMenu apps={everApps} />}\n              {/*update panel - logout and update details button*/}\n            </div>\n            {/*  */}\n          </div>\n        </div>\n      </header>\n    </div>\n  );\n};\n\nexport default DeckLayoutHeader;\n"]}