{"version":3,"file":"RestartLessonDialog.jsx","sourceRoot":"","sources":["../../../../../../src/apps/delivery/layouts/deck/RestartLessonDialog.tsx"],"names":[],"mappings":"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","sourcesContent":["/* eslint-disable react/prop-types */\nimport React, { Fragment, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { setRestartLesson } from '../../store/features/adaptivity/slice';\nimport {\n  selectIsGraded,\n  selectPreviewMode,\n  selectResourceAttemptGuid,\n} from '../../store/features/page/slice';\n\ninterface RestartLessonDialogProps {\n  onRestart: () => void;\n}\nconst RestartLessonDialog: React.FC<RestartLessonDialogProps> = ({ onRestart }) => {\n  const [isOpen, setIsOpen] = useState(true);\n  const resourceAttemptGuid = useSelector(selectResourceAttemptGuid);\n  const graded = useSelector(selectIsGraded);\n  const handleCloseModalClick = () => {\n    setIsOpen(false);\n    dispatch(setRestartLesson({ restartLesson: false }));\n  };\n  const dispatch = useDispatch();\n  const isPreviewMode = useSelector(selectPreviewMode);\n\n  const handleRestart = () => {\n    if (isPreviewMode) {\n      window.location.reload();\n    } else {\n      const currentUrl = window.location.href;\n      if (currentUrl.indexOf('/attempt') > 0) {\n        window.location.reload();\n      }\n      if (graded) {\n        window.location.href = `${currentUrl}/attempt/${resourceAttemptGuid}`;\n      } else {\n        window.location.href = `${currentUrl}/attempt`;\n      }\n    }\n  };\n\n  return (\n    <Fragment>\n      <div\n        className=\"modal-backdrop in\"\n        style={{ display: isOpen ? 'block' : 'none', opacity: 0.5 }}\n      ></div>\n\n      <div\n        className=\"RestartLessonDialog modal in\"\n        data-keyboard=\"false\"\n        aria-hidden={!isOpen}\n        style={{ display: isOpen ? 'block' : 'none', top: '20%', left: '50%' }}\n      >\n        <div className=\"modal-header\">\n          <button\n            type=\"button\"\n            className=\"close\"\n            title=\"Close Restart Lesson window\"\n            aria-label=\"Close Restart Lesson window\"\n            data-dismiss=\"modal\"\n            onClick={handleCloseModalClick}\n          >\n            Ã—\n          </button>\n          <h3>Restart Lesson</h3>\n        </div>\n\n        <div className=\"modal-body\">\n          <div className=\"type\"></div>\n          <div className=\"message\">\n            <p>Are you sure you want to restart and begin from the first screen?</p>\n          </div>\n        </div>\n        <div className=\"modal-footer\">\n          <button className=\"btn \" name=\"OK\" onClick={handleRestart}>\n            OK\n          </button>\n          <button className=\"btn \" name=\"CANCEL\" onClick={handleCloseModalClick}>\n            Cancel\n          </button>\n        </div>\n      </div>\n    </Fragment>\n  );\n};\n\nexport default RestartLessonDialog;\n"]}