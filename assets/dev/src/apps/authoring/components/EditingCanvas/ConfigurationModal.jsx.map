{"version":3,"file":"ConfigurationModal.jsx","sourceRoot":"","sources":["../../../../../../src/apps/authoring/components/EditingCanvas/ConfigurationModal.tsx"],"names":[],"mappings":"AAAA,OAAO,KAAK,EAAE,EAAE,SAAS,EAAE,QAAQ,EAAE,MAAM,OAAO,CAAC;AACnD,OAAO,EAAE,KAAK,EAAE,MAAM,iBAAiB,CAAC;AAWxC,IAAI,eAAe,GAAG,CAAC,CAAC;AAExB,MAAM,kBAAkB,GAA+B,CAAC,EACtD,MAAM,EACN,MAAM,GAAG,0BAA0B,EACnC,UAAU,GAAG,eAAe,EAC5B,UAAU,GAAG,KAAK,EAClB,OAAO,EACP,MAAM,GACP,EAAE,EAAE;IACH,MAAM,CAAC,UAAU,EAAE,aAAa,CAAC,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC;IACjD,MAAM,CAAC,YAAY,EAAE,eAAe,CAAC,GAAG,QAAQ,CAAC,KAAK,CAAC,CAAC;IACxD,MAAM,CAAC,IAAI,EAAE,OAAO,CAAC,GAAG,QAAQ,CAAC,MAAM,CAAC,CAAC;IAEzC,SAAS,CAAC,GAAG,EAAE;QACb,IAAI,IAAI,EAAE;YACR,aAAa,CAAC,eAAe,EAAE,CAAC,CAAC;SAClC;aAAM;YACL,aAAa,CAAC,CAAC,CAAC,CAAC,CAAC;SACnB;IACH,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,CAAC;IAEX,SAAS,CAAC,GAAG,EAAE;QACb,IAAI,UAAU,KAAK,eAAe,EAAE;YAClC,eAAe,CAAC,IAAI,CAAC,CAAC;SACvB;aAAM;YACL,eAAe,CAAC,KAAK,CAAC,CAAC;SACxB;IACH,CAAC,EAAE,CAAC,UAAU,CAAC,CAAC,CAAC;IAEjB,SAAS,CAAC,GAAG,EAAE;QACb,OAAO,CAAC,MAAM,CAAC,CAAC;IAClB,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC,CAAC;IAEb,MAAM,iBAAiB,GAAG,GAAG,EAAE;QAC7B,OAAO,CAAC,KAAK,CAAC,CAAC;QACf,OAAO,EAAE,CAAC;IACZ,CAAC,CAAC;IAEF,MAAM,eAAe,GAAG,GAAG,EAAE;QAC3B,OAAO,CAAC,KAAK,CAAC,CAAC;QACf,MAAM,EAAE,CAAC;IACX,CAAC,CAAC;IAEF,OAAO,CACL,CAAC,KAAK,CACJ,eAAe,CAAC,CAAC,gBAAgB,UAAU,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CACjE,IAAI,CAAC,CAAC,IAAI,CAAC,CACX,MAAM,CAAC,CAAC,iBAAiB,CAAC,CAC1B,YAAY,CAAC,CAAC,YAAY,CAAC,CAC3B,KAAK,CAAC,CAAC,EAAE,QAAQ,EAAE,MAAM,EAAE,CAAC,CAE5B;MAAA,CAAC,KAAK,CAAC,MAAM,CACX;QAAA,CAAC,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC,UAAU,CAAC,EAAE,IAAI,CAC5C;MAAA,EAAE,KAAK,CAAC,MAAM,CACd;MAAA,CAAC,KAAK,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,MAAM,CAAC,CAAC,EAAE,KAAK,CAAC,IAAI,CACpC;MAAA,CAAC,KAAK,CAAC,MAAM,CACX;QAAA,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC,eAAe,CAAC,CAAC,SAAS,CAAC,iBAAiB,CACzE;;QACF,EAAE,MAAM,CACR;QAAA,CAAC,MAAM,CACL,IAAI,CAAC,QAAQ,CACb,OAAO,CAAC,CAAC,iBAAiB,CAAC,CAC3B,SAAS,CAAC,mBAAmB,CAC7B,YAAY,CAAC,OAAO,CAEpB;;QACF,EAAE,MAAM,CACV;MAAA,EAAE,KAAK,CAAC,MAAM,CAChB;IAAA,EAAE,KAAK,CAAC,CACT,CAAC;AACJ,CAAC,CAAC;AAEF,eAAe,kBAAkB,CAAC","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { Modal } from 'react-bootstrap';\n\ninterface ConfigModalProps {\n  onClose: () => void;\n  onSave: () => void;\n  isOpen: boolean;\n  bodyId?: string;\n  fullscreen?: boolean;\n  headerText?: string;\n}\n\nlet instanceCounter = 0;\n\nconst ConfigurationModal: React.FC<ConfigModalProps> = ({\n  isOpen,\n  bodyId = 'configuration-modal-body',\n  headerText = 'Configuration',\n  fullscreen = false,\n  onClose,\n  onSave,\n}) => {\n  const [instanceId, setInstanceId] = useState(-1);\n  const [enforceFocus, setEnforceFocus] = useState(false);\n  const [show, setShow] = useState(isOpen);\n\n  useEffect(() => {\n    if (show) {\n      setInstanceId(instanceCounter++);\n    } else {\n      setInstanceId(-1);\n    }\n  }, [show]);\n\n  useEffect(() => {\n    if (instanceId === instanceCounter) {\n      setEnforceFocus(true);\n    } else {\n      setEnforceFocus(false);\n    }\n  }, [instanceId]);\n\n  useEffect(() => {\n    setShow(isOpen);\n  }, [isOpen]);\n\n  const handleCancelClick = () => {\n    setShow(false);\n    onClose();\n  };\n\n  const handleSaveClick = () => {\n    setShow(false);\n    onSave();\n  };\n\n  return (\n    <Modal\n      dialogClassName={`config-modal ${fullscreen ? 'modal-90w' : ''}`}\n      show={show}\n      onHide={handleCancelClick}\n      enforceFocus={enforceFocus}\n      style={{ overflow: 'auto' }}\n    >\n      <Modal.Header>\n        <span className=\"title\">{headerText}</span>\n      </Modal.Header>\n      <Modal.Body id={bodyId}></Modal.Body>\n      <Modal.Footer>\n        <button type=\"button\" onClick={handleSaveClick} className=\"btn btn-primary\">\n          Save\n        </button>\n        <button\n          type=\"button\"\n          onClick={handleCancelClick}\n          className=\"btn btn-secondary\"\n          data-dismiss=\"modal\"\n        >\n          Cancel\n        </button>\n      </Modal.Footer>\n    </Modal>\n  );\n};\n\nexport default ConfigurationModal;\n"]}