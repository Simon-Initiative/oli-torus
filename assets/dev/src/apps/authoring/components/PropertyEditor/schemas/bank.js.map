{"version":3,"file":"bank.js","sourceRoot":"","sources":["../../../../../../../src/apps/authoring/components/PropertyEditor/schemas/bank.ts"],"names":[],"mappings":"AAGA,OAAO,iBAAiB,MAAM,6BAA6B,CAAC;AAE5D,MAAM,UAAU,GAAgB;IAC9B,IAAI,EAAE,QAAQ;IACd,UAAU,EAAE;QACV,IAAI,EAAE;YACJ,IAAI,EAAE,QAAQ;YACd,UAAU,EAAE;gBACV,aAAa,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,KAAK,EAAE,4CAA4C,EAAE;gBACtF,aAAa,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,KAAK,EAAE,4BAA4B,EAAE;aACvE;SACF;KACF;CACF,CAAC;AAEF,MAAM,CAAC,MAAM,YAAY,GAAa;IACpC,IAAI,EAAE;QACJ,wBAAwB,EAAE,iBAAiB;QAC3C,aAAa,EAAE;YACb,WAAW,EAAE,wBAAwB;SACtC;KACF;CACF,CAAC;AAEF,MAAM,CAAC,MAAM,0BAA0B,GAAG,CAAC,eAAmD,EAAE,EAAE;IAChG,IAAI,eAAe,EAAE;QACnB,MAAM,UAAU,GAAG;YACjB,IAAI,EAAE;gBACJ,aAAa,EAAE,CAAA,eAAe,aAAf,eAAe,uBAAf,eAAe,CAAE,MAAM,CAAC,aAAa,KAAI,CAAC;gBACzD,aAAa,EAAE,eAAe,aAAf,eAAe,uBAAf,eAAe,CAAE,MAAM,CAAC,aAAa;aACrD;SACF,CAAC;QACF,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,aAAa,EAAE;YAClC,UAAU,CAAC,IAAI,CAAC,aAAa,GAAG,MAAM,CAAC;SACxC;aAAM,IAAI,UAAU,CAAC,IAAI,CAAC,aAAa,CAAC,WAAW,EAAE,KAAK,MAAM,EAAE;YACjE,UAAU,CAAC,IAAI,CAAC,aAAa,GAAG,UAAU,CAAC,IAAI,CAAC,aAAa,CAAC,WAAW,EAAE,CAAC;SAC7E;QACD,OAAO,UAAU,CAAC;KACnB;AACH,CAAC,CAAC;AAEF,MAAM,CAAC,MAAM,0BAA0B,GAAG,CAAC,MAAW,EAAE,EAAE;IACxD,MAAM,SAAS,GAAG;QAChB,aAAa,EAAE,MAAM,CAAC,IAAI,CAAC,aAAa;QACxC,aAAa,EAAE,MAAM,CAAC,IAAI,CAAC,aAAa;KACzC,CAAC;IACF,OAAO,SAAS,CAAC;AACnB,CAAC,CAAC;AAEF,eAAe,UAAU,CAAC","sourcesContent":["import { UiSchema } from '@rjsf/core';\nimport { SequenceBank, SequenceEntry } from 'apps/delivery/store/features/groups/actions/sequence';\nimport { JSONSchema7 } from 'json-schema';\nimport AccordionTemplate from '../custom/AccordionTemplate';\n\nconst bankSchema: JSONSchema7 = {\n  type: 'object',\n  properties: {\n    Bank: {\n      type: 'object',\n      properties: {\n        bankShowCount: { type: 'number', title: 'Randomly selects question(s) from the bank' },\n        bankEndTarget: { type: 'string', title: 'When Completed, proceed to' },\n      },\n    },\n  },\n};\n\nexport const bankUiSchema: UiSchema = {\n  Bank: {\n    'ui:ObjectFieldTemplate': AccordionTemplate,\n    bankEndTarget: {\n      'ui:widget': 'ScreenDropdownTemplate',\n    },\n  },\n};\n\nexport const transformBankModeltoSchema = (currentSequence: SequenceEntry<SequenceBank> | null) => {\n  if (currentSequence) {\n    const schemaData = {\n      Bank: {\n        bankShowCount: currentSequence?.custom.bankShowCount || 1,\n        bankEndTarget: currentSequence?.custom.bankEndTarget,\n      },\n    };\n    if (!schemaData.Bank.bankEndTarget) {\n      schemaData.Bank.bankEndTarget = 'next';\n    } else if (schemaData.Bank.bankEndTarget.toLowerCase() === 'next') {\n      schemaData.Bank.bankEndTarget = schemaData.Bank.bankEndTarget.toLowerCase();\n    }\n    return schemaData;\n  }\n};\n\nexport const transformBankSchematoModel = (schema: any) => {\n  const modelData = {\n    bankShowCount: schema.Bank.bankShowCount,\n    bankEndTarget: schema.Bank.bankEndTarget,\n  };\n  return modelData;\n};\n\nexport default bankSchema;\n"]}