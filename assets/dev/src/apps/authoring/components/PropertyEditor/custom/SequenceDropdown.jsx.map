{"version":3,"file":"SequenceDropdown.jsx","sourceRoot":"","sources":["../../../../../../../src/apps/authoring/components/PropertyEditor/custom/SequenceDropdown.tsx"],"names":[],"mappings":"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","sourcesContent":["import {\n  SequenceEntryChild,\n  SequenceEntryType,\n  SequenceHierarchyItem,\n} from 'apps/delivery/store/features/groups/actions/sequence';\nimport { selectSequence } from 'apps/delivery/store/features/groups/selectors/deck';\nimport React from 'react';\nimport { Accordion, ListGroup } from 'react-bootstrap';\nimport { useSelector } from 'react-redux';\nimport ContextAwareToggle from '../../Accordion/ContextAwareToggle';\n\ninterface SeqDropdownProps {\n  items: SequenceHierarchyItem<SequenceEntryChild>[];\n  onChange: (\n    item: null | SequenceHierarchyItem<SequenceEntryChild>,\n    e?: React.MouseEvent,\n    isNextButton?: boolean,\n  ) => void;\n  value?: string;\n  showNextBtn: boolean;\n}\n\nexport const SequenceDropdown: React.FC<SeqDropdownProps> = (props) => {\n  const { items, onChange, value, showNextBtn } = props;\n  const sequence = useSelector(selectSequence);\n  // console.log(sequence);\n\n  const sequenceDropDownItems = (items: SequenceHierarchyItem<SequenceEntryType>[]) =>\n    items.map((item: SequenceHierarchyItem<SequenceEntryType>, index: number) => {\n      const title = item.custom?.sequenceName || item.activitySlug;\n      return (\n        <Accordion key={`${index}`}>\n          <ListGroup.Item\n            as=\"li\"\n            className={`aa-sequence-item${item.children.length ? ' is-parent' : ''} ${\n              item.custom.sequenceId === value ? 'active' : ''\n            }`}\n            key={`${item.custom.sequenceId}`}\n            tabIndex={0}\n          >\n            <div className=\"aa-sequence-details-wrapper\" onClick={(e) => onChange(item, e, false)}>\n              <div className=\"details\">\n                {item.children.length ? (\n                  <ContextAwareToggle eventKey={`${index}`} className={`aa-sequence-item-toggle`} />\n                ) : null}\n                <span className=\"title\">{title}</span>\n              </div>\n            </div>\n            {item.children.length ? (\n              <Accordion.Collapse eventKey={`${index}`}>\n                <ListGroup as=\"ol\" className=\"aa-sequence nested\">\n                  {sequenceDropDownItems(item.children)}\n                </ListGroup>\n              </Accordion.Collapse>\n            ) : null}\n          </ListGroup.Item>\n        </Accordion>\n      );\n    });\n\n  return (\n    <div className=\"aa-sequence-editor\">\n      <ListGroup as=\"ol\" className=\"aa-sequence\">\n        {showNextBtn ? (\n          <ListGroup.Item\n            as=\"li\"\n            className={`aa-sequence-item`}\n            key=\"next\"\n            onClick={(e) => onChange(null, e, true)}\n            tabIndex={0}\n          >\n            <div className=\"aa-sequence-details-wrapper\">\n              <div className=\"details\">\n                <span className=\"title\">Next Screen</span>\n              </div>\n            </div>\n          </ListGroup.Item>\n        ) : null}\n        {sequenceDropDownItems(items)}\n      </ListGroup>\n    </div>\n  );\n};\n"]}