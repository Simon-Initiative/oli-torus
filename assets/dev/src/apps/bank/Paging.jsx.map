{"version":3,"file":"Paging.jsx","sourceRoot":"","sources":["../../../../src/apps/bank/Paging.tsx"],"names":[],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport * as Bank from 'data/content/bank';\n\nexport interface PagingProps {\n  totalResults: number;\n  page: Bank.Paging;\n  onPageChange: (page: Bank.Paging) => void;\n  children?: (item: any, index: number) => React.ReactNode;\n}\n\n// https://getbootstrap.com/docs/4.0/components/pagination/\n//\n// Implements Bootrap pagination, with a maximum of nine directly navigable\n// page buttons and \"previous\" and \"next\" buttons, with the current page\n// highlighted\n//\n// Previous 1 2 3 4 5 6 7 8 9 Next\n//              ^\nexport const Paging: React.FC<PagingProps> = (props: PagingProps) => {\n  const { totalResults, page, onPageChange } = props;\n  const lastPageIndex = Math.ceil(totalResults / page.limit) - 1;\n  const renderedPages = Math.min(lastPageIndex + 1, 9);\n  const pages = [];\n  const currentPage = page.offset / page.limit;\n\n  let start: number;\n  // Handle cases where we have less than nine pages of results\n  if (lastPageIndex <= 9) {\n    start = 0;\n    // Will render like:\n    //\n    // Previous 1 2 3 Next\n    //          ^\n    //        current\n  } else if (lastPageIndex - currentPage < 4) {\n    // We have more than nine total pages of results, but not enough pages\n    // that we can simply 'center' current page, so we right align the\n    // current page as far as we can\n    //\n    // Previous 3 4 5 6 7 8 9 10 11 Next\n    //                        ^\n    //                      current\n    start = 8 - (lastPageIndex - currentPage);\n  } else {\n    // We have more than enough pages to allow us to just 'center'\n    // the current page, placing four pages to the left and four\n    // to the right of it.\n    //\n    // Will render like:\n    //\n    // Previous 3 4 5 6 7 8 9 10 11 Next\n    //                  ^\n    //                current\n    start = currentPage - 4;\n  }\n\n  for (let i = 0; i < renderedPages; i++) {\n    pages.push(\n      <li className={`page-item ${start + i === currentPage ? 'active' : ''}`}>\n        <a\n          className=\"page-link\"\n          onClick={() => onPageChange({ offset: (start + i) * page.limit, limit: page.limit })}\n        >\n          {i + 1}\n        </a>\n      </li>,\n    );\n  }\n\n  const previousPage = { offset: page.offset - page.limit, limit: page.limit };\n  const nextPage = { offset: page.offset + page.limit, limit: page.limit };\n\n  const upper = Math.min(page.offset + page.limit, totalResults);\n\n  const label = `Showing result ${page.offset + 1} - ${upper} of ${totalResults} total`;\n\n  return (\n    <div className=\"d-flex justify-content-between\">\n      <div>{label}</div>\n      <nav aria-label=\"Activity Bank Paging\">\n        <ul className=\"pagination\">\n          <li className={`page-item ${currentPage === 0 ? 'disabled' : ''}`}>\n            <a className=\"page-link\" onClick={() => onPageChange(previousPage)}>\n              Previous\n            </a>\n          </li>\n          {pages}\n          <li className={`page-item ${currentPage === lastPageIndex ? 'disabled' : ''}`}>\n            <a className=\"page-link\" onClick={() => onPageChange(nextPage)}>\n              Next\n            </a>\n          </li>\n        </ul>\n      </nav>\n    </div>\n  );\n};\n"]}