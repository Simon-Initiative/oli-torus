{"version":3,"file":"preferences.js","sourceRoot":"","sources":["../../../../src/data/persistence/preferences.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,WAAW,EAAmB,MAAM,UAAU,CAAC;AAUxD,MAAM,UAAU,gBAAgB;IAC9B,MAAM,MAAM,GAAG;QACb,GAAG,EAAE,sBAAsB;QAC3B,MAAM,EAAE,KAAK;KACd,CAAC;IACF,OAAO,WAAW,CAAyB,MAAM,CAAC,CAAC;AACrD,CAAC;AAED,MAAM,UAAU,iBAAiB,CAC/B,WAAiC;IAEjC,MAAM,MAAM,GAAG;QACb,GAAG,EAAE,sBAAsB;QAC3B,MAAM,EAAE,MAAM;QACd,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC;QACjC,aAAa,EAAE,IAAI;KACpB,CAAC;IACF,OAAO,WAAW,CAA0B,MAAM,CAAC,CAAC;AACtD,CAAC","sourcesContent":["import { makeRequest, Ok, ServerError } from './common';\n\nexport type FetchPreferencesResult = Preferences | ServerError;\nexport type UpdatePreferencesResult = Ok | ServerError;\n\nexport type Preferences = {\n  ['theme']: string | null;\n  ['live_preview_display']: string | null;\n};\n\nexport function fetchPreferences(): Promise<FetchPreferencesResult> {\n  const params = {\n    url: '/account/preferences',\n    method: 'GET',\n  };\n  return makeRequest<FetchPreferencesResult>(params);\n}\n\nexport function updatePreferences(\n  preferences: Partial<Preferences>,\n): Promise<UpdatePreferencesResult> {\n  const params = {\n    url: '/account/preferences',\n    method: 'POST',\n    body: JSON.stringify(preferences),\n    hasTextResult: true,\n  };\n  return makeRequest<UpdatePreferencesResult>(params);\n}\n"]}