{
  "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
  "title": {
    "text": "First Attempt",
    "fontSize": 16,
    "anchor": "start",
    "dy": -5,
    "color": { "expr": "isDarkMode ? 'white' : 'black'" }
  },
  "params": [{ "name": "isDarkMode", "value": false }],
  "data": {
    "values": [
      {
        "label": "A",
        "count": 1,
        "correct": true
      },
      {
        "label": "B",
        "count": 0,
        "correct": false
      }
    ]
  },
  "height": {
    "step": 32
  },
  "width": 240,
  "layer": [
    {
      "mark": {
        "type": "bar",
        "cornerRadiusEnd": 3,
        "height": 12
      },
      "encoding": {
        "y": {
          "field": "label",
          "type": "nominal",
          "sort": null,
          "axis": {
            "title": "",
            "labelPadding": 8,
            "labelColor": {
              "condition": [
                {
                  "test": "isDarkMode",
                  "value": "white"
                }
              ],
              "value": "black"
            }
          }
        },
        "x": {
          "field": "count",
          "type": "quantitative",
          "axis": {
            "title": "Students",
            "format": "d",
            "values": [0, 1],
            "titleColor": { "expr": "isDarkMode ? 'white' : 'black'" },
            "labelColor": { "expr": "isDarkMode ? 'white' : 'black'" }
          },
          "scale": { "domain": [0, 1], "nice": false }
        },
        "color": {
          "condition": [
            {
              "test": "datum.correct && !isDarkMode",
              "value": "#218358"
            },
            {
              "test": "datum.correct && isDarkMode",
              "value": "#39E581"
            },
            {
              "test": "!datum.correct && !isDarkMode",
              "value": "#CE2C31"
            },
            {
              "test": "!datum.correct && isDarkMode",
              "value": "#FF8787"
            }
          ],
          "value": "#CE2C31"
        },
        "tooltip": [
          {
            "field": "label",
            "title": "Choice"
          },
          {
            "field": "count",
            "title": "Students"
          },
          {
            "field": "correct",
            "title": "Correct"
          }
        ]
      }
    },
    {
      "transform": [
        {
          "filter": "datum.correct"
        }
      ],
      "mark": {
        "type": "text",
        "text": "âœ“",
        "baseline": "middle",
        "align": "left",
        "dx": 6,
        "aria": false
      },
      "encoding": {
        "y": {
          "field": "label",
          "type": "nominal"
        },
        "x": {
          "field": "count",
          "type": "quantitative"
        },
        "color": {
          "condition": [
            {
              "test": "!isDarkMode",
              "value": "#218358"
            },
            {
              "test": "isDarkMode",
              "value": "#39E581"
            }
          ],
          "value": "#218358"
        }
      }
    }
  ],
  "config": {
    "axis": {
      "labelFontSize": 13,
      "grid": false,
      "ticks": false,
      "domain": false,
      "titleColor": { "expr": "isDarkMode ? 'white' : 'black'" },
      "labelColor": { "expr": "isDarkMode ? 'white' : 'black'" }
    },
    "view": {
      "stroke": null
    }
  }
}
