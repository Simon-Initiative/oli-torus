# Seeds Playwright course authoring data.
# Parameters (via /test/scenario-yaml or mix task):
#   RUN_ID      - optional suffix to make project names unique (defaults to "")
#   MEDIA_DIR   - absolute path to media files (defaults to tests/resources/media_files)

# Users required by course_authoring.spec.ts

- user:
    name: "playwright_instructor"
    type: "instructor"
    email: "instructor${RUN_ID}@example.com"
    given_name: "Playwright"
    family_name: "Instructor"
    password: "changeme123456"
    can_create_sections: true

- user:
    name: "playwright_student"
    type: "student"
    email: "student${RUN_ID}@example.com"
    given_name: "Jane"
    family_name: "Student"
    password: "changeme123456"

- user:
    name: "playwright_admin"
    type: "author"
    system_role: "system_admin"
    email: "admin${RUN_ID}@example.com"
    given_name: "Playwright"
    family_name: "Admin"
    password: "changeme123456"

- user:
    name: "playwright_author"
    type: "author"
    email: "author${RUN_ID}@example.com"
    given_name: "Playwright"
    family_name: "Author"
    password: "changeme123456"



# Projects required by course_authoring.spec.ts
- project:
    name: "TQA-10-automation${RUN_ID}"
    title: "TQA-10-automation${RUN_ID}"
    visibility: global
    root:
      children:
        - page: "Page 1"

- project:
    name: "TQA-11-automation${RUN_ID}"
    title: "TQA-11-automation${RUN_ID}"
    visibility: global
    root:
      children:
        - page: "Page 1"

- project:
    name: "TQA-12-automation${RUN_ID}"
    title: "TQA-12-automation${RUN_ID}"
    visibility: global
    root:
      children:
        - page: "Page 1"

- project:
    name: "TQA-13-automation${RUN_ID}"
    title: "TQA-13-automation${RUN_ID}"
    visibility: global
    root:
      children:
        - page: "Page 1"
        - page: "Cite"
        - page: "Foreign"
        - page: "Image"
        - page: "Formula"
        - page: "Callout"
        - page: "Popup"
        - page: "Dialog"
        - page: "Table"
        - page: "Theorem"
        - page: "Conjugation"
        - page: "Description List"
        - page: "Audio"
        - page: "Video"
        - page: "YouTube"
        - page: "Webpage"
        - page: "Code Block"
        - page: "Figure"
        - page: "Page Link"
        - page: "Definition"

- project:
    name: "TQA-14-automation${RUN_ID}"
    title: "TQA-14-automation${RUN_ID}"
    visibility: global
    root:
      children:
        - page: "Page 1"
        - page: "CATA"
        - page: "MCQ"
        - page: "Order"
        - page: "Input"

- project:
    name: "TQA-15-automation${RUN_ID}"
    title: "TQA-15-automation${RUN_ID}"
    visibility: global
    root:
      children:
        - page: "Page 1"

- project:
    name: "TQA-17-automation${RUN_ID}"
    title: "TQA-17-automation${RUN_ID}"
    visibility: global
    root:
      children:
        - page: "Page 1"

- project:
    name: "TQA-19-automation${RUN_ID}"
    title: "TQA-19-automation${RUN_ID}"
    visibility: global
    root:
      children:
        - page: "Page 1"
        - page: "New Page"
        - page: "New Assessment"
        - page: "New Adaptive Page"

# Publish all projects
- publish:
    to: "TQA-10-automation${RUN_ID}"
- publish:
    to: "TQA-11-automation${RUN_ID}"
- publish:
    to: "TQA-12-automation${RUN_ID}"
- publish:
    to: "TQA-13-automation${RUN_ID}"
- publish:
    to: "TQA-14-automation${RUN_ID}"
- publish:
    to: "TQA-15-automation${RUN_ID}"
- publish:
    to: "TQA-17-automation${RUN_ID}"
- publish:
    to: "TQA-19-automation${RUN_ID}"

# Media uploads
- media:
    project: "TQA-12-automation${RUN_ID}"
    path: "${MEDIA_DIR}/img-mock-05-16-2025.jpg"
    mime: "image/jpeg"

- media:
    project: "TQA-13-automation${RUN_ID}"
    path: "${MEDIA_DIR}/img-mock-05-16-2025.jpg"
    mime: "image/jpeg"

- media:
    project: "TQA-13-automation${RUN_ID}"
    path: "${MEDIA_DIR}/audio-test-01.mp3"
    mime: "audio/mpeg"

- media:
    project: "TQA-13-automation${RUN_ID}"
    path: "${MEDIA_DIR}/video-test-01.mp4"
    mime: "video/mp4"

# Bibliography
- bibliography:
    project: "TQA-13-automation${RUN_ID}"
    entry: |
      [
        {
          "type": "book",
          "id": "Newton2015Philosophiae",
          "title": "Philosophiae Naturalis Principia Mathematica (Latin, 1687)",
          "author": [{ "family": "Newton", "given": "Isaac" }],
          "issued": { "date-parts": [[2015]] },
          "publisher": "Benediction Classics",
          "publisher-place": "Garsington, England"
        }
      ]

# Section + enrollments for TQA-19
- section:
    name: "TQA-19-automation${RUN_ID}"
    title: "TQA-19-automation${RUN_ID}"
    from: "TQA-19-automation${RUN_ID}"
    open_and_free: true

- enroll:
    user: "playwright_instructor"
    email: "instructor${RUN_ID}@example.com"
    section: "TQA-19-automation${RUN_ID}"
    role: instructor

- enroll:
    user: "playwright_student"
    email: "student${RUN_ID}@example.com"
    section: "TQA-19-automation${RUN_ID}"
    role: student
