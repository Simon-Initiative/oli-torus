<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="ExDoc v0.25.2">
    <meta name="project" content="OLI Torus v0.18.4">

    <title>Oli.Delivery.Attempts.ActivityLifecycle.Evaluate â€” OLI Torus v0.18.4</title>
    <link rel="stylesheet" href="dist/elixir-37545fd2f35b96531434.css" />

    <script src="dist/sidebar_items-112edc1c23.js"></script>

      <script src="docs_config.js"></script>

    <script async src="dist/app-f97730d45ef67f3e6188.js"></script>


  </head>
  <body data-type="modules">
    <script>

      try {
        if (localStorage.getItem('night-mode') === 'true') {
          document.body.classList.add('night-mode');
        }
      } catch (error) { }
    </script>

<div class="main">

<button class="sidebar-button sidebar-toggle">
  <span class="icon-menu" title="Collapse/expand sidebar"></span>
</button>

<section class="sidebar">
  <form class="sidebar-search" action="search.html">
    <button type="submit" class="search-button" aria-label="Submit Search">
      <span class="icon-search" aria-hidden="true" title="Submit search"></span>
    </button>
    <button type="button" tabindex="-1" class="search-close-button" aria-label="Cancel Search">
      <span class="icon-cross" aria-hidden="true" title="Cancel search"></span>
    </button>
    <label class="search-label">
      <input name="q" type="text" class="search-input" placeholder="Search..." aria-label="Input your search terms" autocomplete="off" />
    </label>
  </form>

  <div class="autocomplete">
    <div class="autocomplete-results">
    </div>
  </div>

  <div class="sidebar-header">
    <div class="sidebar-projectDetails">
      <a href="http://oli.cmu.edu" class="sidebar-projectName">
OLI Torus
      </a>
      <strong class="sidebar-projectVersion">
        v0.18.4
      </strong>
    </div>

      <a href="http://oli.cmu.edu">
        <img src="assets/logo.png" alt="OLI Torus" class="sidebar-projectImage">
      </a>

  </div>

  <ul class="sidebar-listNav">
    <li><a id="extras-list-link" href="#full-list">Pages</a></li>

      <li><a id="modules-list-link" href="#full-list">Modules</a></li>


      <li><a id="tasks-list-link" href="#full-list">Mix Tasks</a></li>

  </ul>
  <div class="gradient"></div>
  <ul id="full-list" class="sidebar-fullList"></ul>
</section>

<section class="content">
  <div class="content-outer">
    <div id="content" class="content-inner">

      <h1>
Oli.Delivery.Attempts.ActivityLifecycle.Evaluate <small class="app-vsn">(OLI Torus v0.18.4)</small>

          <a href="https://github.com/Simon-Initiative/oli-torus/blob/master/lib/oli/delivery/attempts/activity_lifecycle/evaluate.ex#L1" title="View Source" class="view-source" rel="help">
            <span class="icon-code" aria-hidden="true"></span>
            <span class="sr-only">View Source</span>
          </a>

      </h1>



        <section id="summary" class="details-list">
          <h1 class="section-heading">
            <a class="hover-link" href="#summary">
              <span class="icon-link" aria-hidden="true"></span>
              <span class="sr-only">Link to this section</span>
            </a>
            Summary
          </h1>

  <div class="summary-functions summary">
    <h2>
      <a href="#functions">Functions</a>
    </h2>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#apply_client_evaluation/4">apply_client_evaluation(
  section_slug,
  activity_attempt_guid,
  client_evaluations,
  normalize_mode \\ :normalize
)</a>

  </div>

    <div class="summary-synopsis"><p>Processes a set of client evaluations for some number of parts for the given
activity attempt guid.  If this collection of evaluations completes the activity
the results of the part evaluations (including ones already having been evaluated)
will be rolled up to the activity attempt record.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#apply_super_activity_evaluation/3">apply_super_activity_evaluation(section_slug, activity_attempt_guid, client_evaluations)</a>

  </div>

    <div class="summary-synopsis"><p>Processes a set of client evaluations for some number of parts for the given
activity attempt guid.  Does not rollup part evaluation up to activity attempt record.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#evaluate_activity/3">evaluate_activity(section_slug, activity_attempt_guid, part_inputs)</a>

  </div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#evaluate_from_input/3">evaluate_from_input(section_slug, activity_attempt_guid, part_inputs)</a>

  </div>

    <div class="summary-synopsis"><p>Processes a student submission for some number of parts for the given
activity attempt guid.  If this collection of part attempts completes the activity
the results of the part evalutions (including ones already having been evaluated)
will be rolled up to the activity attempt record.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#evaluate_from_preview/2">evaluate_from_preview(model, part_inputs)</a>

  </div>

    <div class="summary-synopsis"><p>Processes a preview mode, or test, evaulation.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#evaluate_from_rules/8">evaluate_from_rules(
  section_slug,
  resource_attempt,
  activity_attempt_guid,
  part_inputs,
  scoringContext,
  rules,
  activitiesRequiredForEvaluation,
  variablesRequiredForEvaluation
)</a>

  </div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#evaluate_from_stored_input/1">evaluate_from_stored_input(activity_attempt_guid)</a>

  </div>

    <div class="summary-synopsis"><p>Evaluates an activity attempt using only the already stored state present in
the child part attempts.  This exists primarly to allow graded pages to
submit all of the contained activites when the student clicks &quot;Submit Assessment&quot;.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#rollup_part_attempt_evaluations/2">rollup_part_attempt_evaluations(activity_attempt_guid, normalize_mode)</a>

  </div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#rollup_submitted/1">rollup_submitted(activity_attempt_guid)</a>

  </div>

</div>

  </div>

        </section>


        <section id="functions" class="details-list">
          <h1 class="section-heading">
            <a class="hover-link" href="#functions">
              <span class="icon-link" aria-hidden="true"></span>
              <span class="sr-only">Link to this section</span>
            </a>
Functions
          </h1>
          <div class="functions-list">
<section class="detail" id="apply_client_evaluation/4">

    <span id="apply_client_evaluation/3"></span>

  <div class="detail-header">
    <a href="#apply_client_evaluation/4" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">apply_client_evaluation(
  section_slug,
  activity_attempt_guid,
  client_evaluations,
  normalize_mode \\ :normalize
)</h1>

      <a href="https://github.com/Simon-Initiative/oli-torus/blob/master/lib/oli/delivery/attempts/activity_lifecycle/evaluate.ex#L377" class="view-source" rel="help" title="View Source">
       <span class="icon-code" aria-hidden="true"></span>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

<p>Processes a set of client evaluations for some number of parts for the given
activity attempt guid.  If this collection of evaluations completes the activity
the results of the part evaluations (including ones already having been evaluated)
will be rolled up to the activity attempt record.</p><p>The optional &quot;normalize_mode&quot; takes values of :normalize or :do_not_normalize.  The default
:normalize mode will normalize the part based score and out_of to a range of 0 to 1.
This ensures for all basic page based assessments that every activity has equal weight.</p><p>On success returns an <code class="inline">{:ok, results}</code> tuple where results in an array of maps. Each
map instance contains the result of one of the evaluations in the form:</p><p><code class="inline">${score: score, out_of: out_of, feedback: feedback, attempt_guid, attempt_guid}</code></p><p>On failure returns <code class="inline">{:error, error}</code></p>
  </section>
</section>
<section class="detail" id="apply_super_activity_evaluation/3">

  <div class="detail-header">
    <a href="#apply_super_activity_evaluation/3" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">apply_super_activity_evaluation(section_slug, activity_attempt_guid, client_evaluations)</h1>

      <a href="https://github.com/Simon-Initiative/oli-torus/blob/master/lib/oli/delivery/attempts/activity_lifecycle/evaluate.ex#L431" class="view-source" rel="help" title="View Source">
       <span class="icon-code" aria-hidden="true"></span>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>apply_super_activity_evaluation(<a href="https://hexdocs.pm/elixir/String.html#t:t/0">String.t</a>(), <a href="https://hexdocs.pm/elixir/String.html#t:t/0">String.t</a>(), [<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types">map</a>()]) ::
  {:ok, [<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types">map</a>()]} | {:error, <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types">any</a>()}</pre>

      </div>

<p>Processes a set of client evaluations for some number of parts for the given
activity attempt guid.  Does not rollup part evaluation up to activity attempt record.</p><p>On success returns an <code class="inline">{:ok, results}</code> tuple where results in an array of maps. Each
map instance contains the result of one of the evaluations in the form:</p><p><code class="inline">${score: score, out_of: out_of, feedback: feedback, attempt_guid, attempt_guid}</code></p><p>On failure returns <code class="inline">{:error, error}</code></p>
  </section>
</section>
<section class="detail" id="evaluate_activity/3">

  <div class="detail-header">
    <a href="#evaluate_activity/3" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">evaluate_activity(section_slug, activity_attempt_guid, part_inputs)</h1>

      <a href="https://github.com/Simon-Initiative/oli-torus/blob/master/lib/oli/delivery/attempts/activity_lifecycle/evaluate.ex#L17" class="view-source" rel="help" title="View Source">
       <span class="icon-code" aria-hidden="true"></span>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">


  </section>
</section>
<section class="detail" id="evaluate_from_input/3">

  <div class="detail-header">
    <a href="#evaluate_from_input/3" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">evaluate_from_input(section_slug, activity_attempt_guid, part_inputs)</h1>

      <a href="https://github.com/Simon-Initiative/oli-torus/blob/master/lib/oli/delivery/attempts/activity_lifecycle/evaluate.ex#L265" class="view-source" rel="help" title="View Source">
       <span class="icon-code" aria-hidden="true"></span>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>evaluate_from_input(<a href="https://hexdocs.pm/elixir/String.html#t:t/0">String.t</a>(), <a href="https://hexdocs.pm/elixir/String.html#t:t/0">String.t</a>(), [<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types">map</a>()]) ::
  {:ok, [<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types">map</a>()]} | {:error, <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types">any</a>()}</pre>

      </div>

<p>Processes a student submission for some number of parts for the given
activity attempt guid.  If this collection of part attempts completes the activity
the results of the part evalutions (including ones already having been evaluated)
will be rolled up to the activity attempt record.</p><p>On success returns an <code class="inline">{:ok, results}</code> tuple where results in an array of maps. Each
map instance contains the result of one of the evaluations in the form:</p><p><code class="inline">${score: score, out_of: out_of, feedback: feedback, attempt_guid, attempt_guid}</code></p><p>There can be less items in the results list than there are items in the input part_inputs
as logic here will not evaluate part_input instances whose part attempt has already
been evaluated.</p><p>On failure returns <code class="inline">{:error, error}</code></p>
  </section>
</section>
<section class="detail" id="evaluate_from_preview/2">

  <div class="detail-header">
    <a href="#evaluate_from_preview/2" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">evaluate_from_preview(model, part_inputs)</h1>

      <a href="https://github.com/Simon-Initiative/oli-torus/blob/master/lib/oli/delivery/attempts/activity_lifecycle/evaluate.ex#L286" class="view-source" rel="help" title="View Source">
       <span class="icon-code" aria-hidden="true"></span>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>evaluate_from_preview(<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types">map</a>(), [<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types">map</a>()]) :: {:ok, [<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types">map</a>()]} | {:error, <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types">any</a>()}</pre>

      </div>

<p>Processes a preview mode, or test, evaulation.</p>
  </section>
</section>
<section class="detail" id="evaluate_from_rules/8">

  <div class="detail-header">
    <a href="#evaluate_from_rules/8" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">evaluate_from_rules(
  section_slug,
  resource_attempt,
  activity_attempt_guid,
  part_inputs,
  scoringContext,
  rules,
  activitiesRequiredForEvaluation,
  variablesRequiredForEvaluation
)</h1>

      <a href="https://github.com/Simon-Initiative/oli-torus/blob/master/lib/oli/delivery/attempts/activity_lifecycle/evaluate.ex#L66" class="view-source" rel="help" title="View Source">
       <span class="icon-code" aria-hidden="true"></span>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">


  </section>
</section>
<section class="detail" id="evaluate_from_stored_input/1">

  <div class="detail-header">
    <a href="#evaluate_from_stored_input/1" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">evaluate_from_stored_input(activity_attempt_guid)</h1>

      <a href="https://github.com/Simon-Initiative/oli-torus/blob/master/lib/oli/delivery/attempts/activity_lifecycle/evaluate.ex#L329" class="view-source" rel="help" title="View Source">
       <span class="icon-code" aria-hidden="true"></span>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

<p>Evaluates an activity attempt using only the already stored state present in
the child part attempts.  This exists primarly to allow graded pages to
submit all of the contained activites when the student clicks &quot;Submit Assessment&quot;.</p>
  </section>
</section>
<section class="detail" id="rollup_part_attempt_evaluations/2">

  <div class="detail-header">
    <a href="#rollup_part_attempt_evaluations/2" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">rollup_part_attempt_evaluations(activity_attempt_guid, normalize_mode)</h1>

      <a href="https://github.com/Simon-Initiative/oli-torus/blob/master/lib/oli/delivery/attempts/activity_lifecycle/evaluate.ex#L491" class="view-source" rel="help" title="View Source">
       <span class="icon-code" aria-hidden="true"></span>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">


  </section>
</section>
<section class="detail" id="rollup_submitted/1">

  <div class="detail-header">
    <a href="#rollup_submitted/1" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">rollup_submitted(activity_attempt_guid)</h1>

      <a href="https://github.com/Simon-Initiative/oli-torus/blob/master/lib/oli/delivery/attempts/activity_lifecycle/evaluate.ex#L576" class="view-source" rel="help" title="View Source">
       <span class="icon-code" aria-hidden="true"></span>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">


  </section>
</section>

          </div>
        </section>

      <footer class="footer">

        <p>
          <span class="line">
            Built using
            <a href="https://github.com/elixir-lang/ex_doc" title="ExDoc" target="_blank" rel="help noopener">ExDoc</a> (v0.25.2) for the
            <a href="https://elixir-lang.org" title="Elixir" target="_blank">Elixir programming language</a>.
          </span>
          <span class="line">
            Designed by
            <a href="https://twitter.com/dignifiedquire" target="_blank" rel="noopener" title="@dignifiedquire">Friedel Ziegelmayer</a>.
          </span>
        </p>
        <p>

            <a href="api-reference.html" title="API reference" class="line footer-button">API Reference</a>

          <button class="line footer-button display-shortcuts-help">
            Display keyboard shortcuts
          </button>
          <button class="line footer-button night-mode-toggle">
            Toggle night mode
          </button>
          <button class="line footer-button display-quick-switch">
            Go to a HexDocs package
          </button>
          <button class="line footer-button tooltips-toggle">
            <span class="tooltips-option-disable">Disable tooltips</span>
            <span class="tooltips-option-enable">Enable tooltips</span>
          </button>
        </p>
      </footer>
    </div>
  </div>
</section>
</div>


  </body>
</html>
